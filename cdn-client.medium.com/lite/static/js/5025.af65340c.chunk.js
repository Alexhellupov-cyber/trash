(self.webpackChunklite=self.webpackChunklite||[]).push([[5025],{59116:(e,t,n)=>{"use strict";n.d(t,{Te:()=>r,_M:()=>o,ed:()=>i});var r=function(e){if(!e)return!1;var t=e.graphQLErrors;return!!t&&!!t.find((function(e){return 2===e.type&&1===e.path.length}))},o=function(e){if(!e)return!1;var t=e.graphQLErrors;return!!t&&!!t.find((function(e){var t;return"RESPONSE_LOCKED"===(null===(t=e.extensions)||void 0===t?void 0:t.code)}))},i=function(e){return!(!e||0===e.length||!e.find((function(e){var t;return"TOO_MANY_REQUESTS"===(null===(t=e.extensions)||void 0===t?void 0:t.code)})))}},78067:(e,t,n)=>{"use strict";var r;n.d(t,{r:()=>r}),function(e){e.FULL="web-full",e.INLINE_HOMEPAGE_TOP="web-inline-homepage-top",e.INLINE_POST_RESPONSE="web-inline-post-response",e.INLINE_NEWSLETTER="web-inline-newsletter",e.INLINE_QUOTE_RESPONSES="web-inline-quote-responses"}(r||(r={}))},94132:(e,t,n)=>{"use strict";n.d(t,{T:()=>E});var r=n(59713),o=n.n(r),i=n(67294),a=n(12291),s=n(60046),l=n(82418),c=n(97145),u=n(7530),d=n(64504),p=n(28309),m=n(67122),g=n(27952);function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var v=function(e){var t=e.authDomain,n=e.productName;return i.createElement(u.xu,{flexGrow:"1",flexShrink:"1",flexBasis:"0",margin:"0 12px"},i.createElement(u.xu,{paddingBottom:"8px"},i.createElement(u.rU,{href:(0,g.GM)(t,n)},i.createElement(d.X6,{scale:"S"},"Share your thinking."))),i.createElement(d.F,{scale:"M"},"If you have a story to tell, knowledge to share, or a perspective to offer — welcome home. It’s easy and free to post your thinking on any topic."," ",i.createElement(u.rU,{href:(0,g.GM)(t,n),inline:!0,linkStyle:"OBVIOUS"},"Write on ",n)))},E=function(e){var t=e.slimFooter,n=(0,a.v9)((function(e){return{authDomain:e.config.authDomain,productName:e.config.productName}}),a.wU),r=n.authDomain,o=n.productName,f=(0,p.Fg)(),E=h(h({},f),{},{baseColor:h(h({},f.baseColor),{},{background:{light:m.Uy(.76),normal:m.Uy(.84),dark:m.Uy(.9)},border:{lighter:m.l9(.1),light:m.l9(.2),normal:m.l9(.34),dark:m.l9(.54),darker:m.l9(.84)},fill:{lighter:m.l9(.7),light:m.l9(.8),normal:m.l9(.98),dark:m.l9(.99),darker:m.l9(1)},text:{lighter:m.l9(.7),light:m.l9(.8),normal:m.l9(.98),dark:m.l9(.99),darker:m.l9(1)}})});return i.createElement(u.f6,{theme:E},i.createElement(u.xu,{backgroundColor:"BASE_DARK",padding:"".concat(t?"32px":"60px"," 0"),sm:{padding:"32px 0"}},i.createElement(u.Pm,null,t?null:i.createElement(u.xu,{borderBottom:"BASE_DARK",display:"flex",justifyContent:"space-between",marginBottom:"32px",paddingBottom:"48px",sm:{display:"none"}},i.createElement(u.xu,{display:"flex",justifyContent:"space-between",margin:"0 -12px"},i.createElement(u.xu,{flexGrow:"1",flexShrink:"1",flexBasis:"0",margin:"0 12px"},i.createElement(u.xu,{paddingBottom:"8px"},i.createElement(u.rU,{href:(0,g.jQ)({authDomain:r,autoplay:!0})},i.createElement(d.X6,{scale:"S"},"Learn more."))),i.createElement(d.F,{scale:"M"},o," is an open platform where 170 million readers come to find insightful and dynamic thinking. Here, expert and undiscovered voices alike dive into the heart of any topic and bring new ideas to the surface."," ",i.createElement(u.rU,{href:(0,g.jQ)({authDomain:r,autoplay:!0}),inline:!0,linkStyle:"OBVIOUS"},"Learn more"))),i.createElement(u.xu,{flexGrow:"1",flexShrink:"1",flexBasis:"0",margin:"0 12px"},i.createElement(u.xu,{paddingBottom:"8px"},i.createElement(u.rU,{href:(0,g.a4)(r)},i.createElement(d.X6,{scale:"S"},"Make ",o," yours."))),i.createElement(d.F,{scale:"M"},"Follow the writers, publications, and topics that matter to you, and you’ll see them on your homepage and in your inbox."," ",i.createElement(u.rU,{href:(0,g.a4)(r),inline:!0,linkStyle:"OBVIOUS"},"Explore"))),i.createElement(v,{authDomain:r,productName:o}))),i.createElement(u.xu,{display:"flex",flexDirection:"column"},i.createElement(u.xu,{alignItems:"center",display:"flex",justifyContent:"space-between"},i.createElement(u.rU,{href:"https://".concat(r,"/"),ariaLabel:"Go to homepage"},i.createElement(s.Rv,{fill:m.ix})),i.createElement(u.xu,{display:"flex",justifyContent:"space-between",paddingTop:"8px",width:"200px",sm:{display:"flex",width:"140px"}},i.createElement(d.F,{color:"DARKER",scale:"L"},i.createElement(u.rU,{href:(0,g.jQ)({authDomain:r}),inline:!0},"About")),i.createElement(d.F,{color:"DARKER",scale:"L"},i.createElement(u.rU,{href:(0,g.Xp)(),inline:!0},"Help")),i.createElement(d.F,{color:"DARKER",scale:"L"},i.createElement(u.rU,{href:(0,g.xB)(),inline:!0},"Legal")))),i.createElement(i.Fragment,null,i.createElement(u.xu,{display:"none",sm:{display:"flex",marginBottom:"16px",marginTop:"30px"}},i.createElement(d.F,{color:"LIGHTER",scale:"L"},"Get the Medium app")),i.createElement(u.xu,{display:"none",sm:{display:"flex",flexDirection:"row",marginBottom:"16px",width:"100%"}},i.createElement(u.xu,{marginRight:"16px"},i.createElement(c.E,{entryPoint:"postPageFooter"})),i.createElement(u.xu,null,i.createElement(l.H,{entryPoint:"postPageFooter"}))))))))}},47076:(e,t,n)=>{"use strict";n.d(t,{Z:()=>M});var r=n(87757),o=n.n(r),i=n(48926),a=n.n(i),s=n(67294),l=n(12291),c=n(59116),u=n(78067),d=n(14267),p=n(54260),m=n(30049),g=n(319),f=n.n(g),h=n(59713),v=n.n(h),E=n(28655),b=n.n(E),y=n(71439),x=n(80439),S=n(43522),P=n(58992);function I(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function w(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?I(Object(n),!0).forEach((function(t){v()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):I(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function R(){var e=b()(["\n  mutation publishPostThreadedResponse(\n    $inResponseToPostId: ID!\n    $deltas: [Delta!]!\n    $inResponseToQuoteId: ID\n    $responseDistribution: ResponseDistributionType\n  ) {\n    publishPostThreadedResponse(\n      inResponseToPostId: $inResponseToPostId\n      deltas: $deltas\n      inResponseToQuoteId: $inResponseToQuoteId\n      responseDistribution: $responseDistribution\n    ) {\n      id\n      ... on Post {\n        ...StoryResponse_threadedStoryResponse_post\n        ...SimpleResponse_threadedSimpleResponse_post\n        ...SimpleResponse_threadedSimpleResponse_defaultPostResponses\n      }\n    }\n  }\n  ","\n  ","\n  ","\n"]);return R=function(){return e},e}var O=(0,y.Ps)(R(),S.Df,P.t,S.K5),T=function(e){var t=e.children,n=e.parentPostId;return s.createElement(x.mm,{mutation:O,update:function(e,t){var r=function(e,t){if(!t||!e.data)return null;var n=e.data.publishPostThreadedResponse;return w(w({},t),{},{postResponses:{count:t.postResponses.count+1},threadedPostResponses:w(w({},t.threadedPostResponses),{},{posts:[n].concat(f()(t.threadedPostResponses.posts))})})}(t,e.readFragment({id:"Post:".concat(n),fragment:S.K5,fragmentName:"SimpleResponse_threadedSimpleResponse_defaultPostResponses"}));null!==r&&e.writeFragment({id:"Post:".concat(n),fragment:S.K5,fragmentName:"SimpleResponse_threadedSimpleResponse_defaultPostResponses",data:w({},r)})}},(function(e,n){return t({publishResponse:e,loading:n.loading,error:n.error})}))},D=n(53945),k=n(19537),_=n(18608),A=n(85740),C=n(64504),L=n(62630),j=n(27572),B=n(28309),N=n(14391),U=n(85277),M=function(e){var t=e.parentPostId,n=e.placeholder,r=e.hideReplyEditing,i=void 0===r?function(){}:r,g=e.editorOpenByDefault,f=void 0===g||g,h=e.showEditorHeader,v=void 0===h||h,E=Boolean((0,A.P5)("enable_lite_publish_to_profile")),b=s.useContext(d.D),y=b.setIsSavingResponse,x=b.responsesLocked,S=b.inResponseToQuote,P=b.setInResponseToQuote,I=b.responseDistribution,w=b.setResponseDistribution,R=b.rootPostId,O=s.useContext(p.H),M=O.showThreadedResponses,F=O.isThreadedResponsesQueryLoading,H=O.threadDepthFromRootPost,V=function(){I===N.Et.DISTRIBUTED?w(N.Et.NOT_DISTRIBUTED):w(N.Et.DISTRIBUTED)},W=(0,j.pK)(),Q=(0,L.Av)(),z=(0,l.I0)(),G=(0,B.Iq)(),Y=s.useRef(null);s.useEffect((function(){var e;null!=Y&&null!==(e=Y.current)&&void 0!==e&&e.getBoundingClientRect&&Y.current.getBoundingClientRect().bottom>window.innerHeight&&Y.current.scrollIntoView({behavior:"smooth",block:"end"})}),[]);var Z=function(e){return function(){var n=a()(o().mark((function n(r,i){var a;return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,e({variables:{inResponseToPostId:t,deltas:r,inResponseToQuoteId:null==S?void 0:S.id}});case 2:a=n.sent,i(a.data.savePostResponse.id);case 4:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}()};return s.createElement(T,{parentPostId:t},(function(e){var r=e.publishResponse,l=e.loading,d=e.error;return(0,c._M)(d)||x?(y(!1),s.createElement(m.R,{message:_.x})):s.createElement(D.P,null,(function(e){var d,p=e.saveResponse;return s.createElement("div",{ref:Y},s.createElement(C.F,{scale:"M",color:"DARKER",tag:"div"},s.createElement("div",{className:G({lineHeight:"24px"})},s.createElement(_.j,{postId:t,isPublishingResponse:l,publishResponse:(d=r,function(e,n){return y(!0),d({variables:{inResponseToPostId:t,deltas:e,inResponseToQuoteId:null==S?void 0:S.id,responseDistribution:I}}).then((function(e){var r=e.data&&e.data.publishPostThreadedResponse,o=(0,c.ed)(e.errors);if(r)return Q.event("inlineEditor.publish",{postId:t,context:u.r.INLINE_POST_RESPONSE,source:W}),Q.event("response.created",{postId:r.id,parentPostId:t,rootPostId:R,threadDepth:H+1,context:u.r.INLINE_POST_RESPONSE,source:W}),y(!1),M(),I===N.Et.DISTRIBUTED&&(z((0,U.Dx)({message:"",toastStyle:"PUBLISH_RESPONSE",extraParams:{response:r},duration:5e3})),w(N.Et.NOT_DISTRIBUTED)),n();o&&(y(!1),z((0,U.Dx)({message:"You’ve reached the limit for stories that can be published in one day. Please try again tomorrow.",toastStyle:"ERROR"})))}))}),saveResponse:Z(p),type:k.H.create,inResponseToQuote:S,onClose:a()(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return P(void 0),i(),e.abrupt("return",{});case 3:case"end":return e.stop()}}),e)}))),editorOpenByDefault:f,placeholder:n,showEditorHeader:v,disableReplyButton:F,showPublishCheckbox:E&&!f,responseDistribution:I,toggleResponseDistribution:V}))))}))}))}},30049:(e,t,n)=>{"use strict";n.d(t,{R:()=>s});var r=n(67294),o=n(7530),i=n(64504),a=n(27952),s=function(e){var t=e.message||"The author has closed discussion for this story.";return r.createElement(o.xu,{backgroundColor:"BASE_NORMAL",display:"flex",flexDirection:"row",alignItems:"center",padding:"16px"},r.createElement(i.F,{scale:"M",tag:"span",color:"DARKER"},t," ",r.createElement(o.rU,{href:(0,a.VG)(),target:"_blank",inline:!0,linkStyle:"OBVIOUS"},"Learn more.")))}},53945:(e,t,n)=>{"use strict";n.d(t,{P:()=>u});var r=n(28655),o=n.n(r),i=n(71439),a=n(80439),s=n(67294);function l(){var e=o()(["\n  mutation savePostResponse(\n    $inResponseToPostId: ID!\n    $deltas: [Delta!]!\n    $inResponseToQuoteId: ID\n  ) {\n    savePostResponse(\n      inResponseToPostId: $inResponseToPostId\n      deltas: $deltas\n      inResponseToQuoteId: $inResponseToQuoteId\n    ) {\n      ... on Post {\n        id\n      }\n    }\n  }\n"]);return l=function(){return e},e}var c=(0,i.Ps)(l()),u=function(e){var t=e.children;return s.createElement(a.mm,{mutation:c},(function(e){return t({saveResponse:e})}))}},19537:(e,t,n)=>{"use strict";var r;n.d(t,{H:()=>r}),function(e){e.edit="EDIT",e.create="CREATE"}(r||(r={}))},18608:(e,t,n)=>{"use strict";n.d(t,{x:()=>X,j:()=>oe});var r=n(63038),o=n.n(r),i=n(87757),a=n.n(i),s=n(48926),l=n.n(s),c=n(59713),u=n.n(c),d=n(67294),p=n(12291),m=n(84792),g=n(10143),f=n(26600),h=n(25772),v=n(78067),E=n(22470),b=n(54803),y=n(9735),x=n(24548),S=n(42963),P=n(32262),I=n(7530),w=n(28309),R=n(74465),O=n(93394),T=function(e){return{cursor:"pointer",border:0,fill:e.baseColor.fill.light,":hover":{fill:e.baseColor.fill.dark}}},D=function(e){var t=e.isEdit,n=e.saveResponse,r=e.setDraftResponseId,o=(0,w.Iq)(),i="editorPopoverMenu";return d.createElement(I.Bn,null,(function(e){var a=e.isVisible,s=e.toggle,l=e.hide;return d.createElement(I.J2,{ariaId:i,isVisible:a,hide:l,customZIndex:R.ZP.responseSidebarPopover,noArrow:!0,placement:"bottom-end",popoverRenderFn:function(){return d.createElement(P.mX,null,d.createElement(P.Sl,null,d.createElement(I.rU,{onClick:t&&r?r:n,"data-testid":"saveResponseMenuItem"},"Make this response a story")))}},d.createElement(I.rU,{ariaControls:i,ariaExpanded:a?"true":"false",onClick:s,className:o(T),"data-testid":"editorMenu"},d.createElement(O.Z,null)))}))},k=n(19692),_=n(14391),A=n(83024),C=function(e){var t=e.quote,n=(0,w.Iq)();if(!t)return null;var r=(0,A.eu)(t);return r?d.createElement("div",{className:n({boxShadow:"0px 1px 4px rgba(0,0,0,0.04)",border:"1px solid rgba(0,0,0,0.1)",borderRadius:"3px",padding:"20px 16px",margin:"10px 14px 0 14px","& mark":{cursor:"text"}})},d.createElement(k.ZP,{paragraph:r,paragraphStyle:_.NJ.P,spaceTop:4,richTextStyle:"STREAM"})):null},L=function(e){var t=e.onFocus,n=e.responseContent,r=e.setResponseContent,o=e.setIsEmpty,i=e.isEditorOpen,a=(0,w.Iq)();return d.createElement("textarea",{placeholder:"What are your thoughts?",value:n,onChange:function(e){var t=e.target.value;o(!t),r(t)},onFocus:t,className:a({width:"100%",padding:"14px",resize:"none",minHeight:i?"100px":"0",height:i?"auto":"47px",fontFamily:"inherit",fontSize:"inherit",lineHeight:"inherit",outline:"0",border:"0"})})},j=n(19537),B=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{includeInitialDeltas:!0},n=t.includeInitialDeltas,r=[],o=e.split("\n");return n&&(r=[{type:8,index:0,section:{name:N(),startIndex:0}}]),o.forEach((function(e,t){r.push({type:1,paragraph:{markups:[],name:N(),text:e,type:1},verifySameName:!1,index:t})})),r},N=function(){return Math.round(65535*Math.random()).toString(16).padStart(4,"0")},U=n(85740),M=n(86280),F=n(62181),H=n(98281),V=n(42933),W=n(36544),Q=function(e){var t=e.isVisible,n=e.hide,r=(0,M.YC)().value;return d.createElement(W.C,null,(function(e){var o=e.mutate;return d.createElement(I.QH,{confirmText:"Resend verification email",hide:n,isVisible:t,isDestructiveAction:!1,onConfirm:function(){o()},showCancelButton:!1,titleText:"Commenting requires a verified email address"},"Click below to send a new verification email to ",null==r?void 0:r.unverifiedEmail,".")}))},z=n(64504),G=n(62630),Y=n(27572),Z=n(27952),q=n(29035);function $(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function K(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$(Object(n),!0).forEach((function(t){u()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var X="The author has closed discussion for this story. We are unable to save changes to your response.",J=function(){return{"& button":{border:"none"}}},ee="400ms",te="300ms",ne=function(e,t){var n=K(K({},t),{},{display:"flex",padding:"0 14px"});return K(K({},n),{},e?{transition:"opacity ".concat(ee,", max-height ").concat(ee),opacity:1,maxHeight:"100px"}:{transition:"opacity ".concat(ee,", max-height ").concat(ee),opacity:0,maxHeight:0})},re=function(e){return e?{transition:"min-height ".concat(ee),minHeight:"100px"}:{transition:"min-height ".concat(ee),minHeight:"15px"}},oe=function(e){var t,n=e.postId,r=e.responseId,i=e.createdAt,s=e.isPublishingResponse,c=e.disableReplyButton,u=void 0!==c&&c,P=e.publishResponse,R=e.saveResponse,O=void 0===R?function(){return Promise.resolve()}:R,T=e.type,k=void 0===T?j.H.create:T,A=e.onClose,N=void 0===A?l()(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{});case 1:case"end":return e.stop()}}),e)}))):A,W=e.inResponseToQuote,$=e.initialValue,X=e.placeholder,oe=void 0===X?"What are your thoughts?":X,ie=e.editorOpenByDefault,ae=void 0!==ie&&ie,se=e.showEditorHeader,le=void 0===se||se,ce=e.showPublishCheckbox,ue=void 0!==ce&&ce,de=e.responseDistribution,pe=void 0===de?_.Et.NOT_DISTRIBUTED:de,me=e.toggleResponseDistribution,ge=void 0===me?function(){}:me,fe=k===j.H.edit,he=(0,w.Iq)(),ve=(0,G.Av)(),Ee=(0,Y.pK)(),be=(0,q.rO)(navigator.userAgent),ye=Boolean((0,U.P5)("enable_lite_threaded_responses"))&&k===j.H.edit,xe=(0,f.c)().value,Se=(0,y.Vz)([y.Fm]),Pe=Se.editor,Ie=Se.renderLeaf,we=Se.renderElement,Re=d.useState(fe||ae),Oe=o()(Re,2),Te=Oe[0],De=Oe[1],ke=d.useState(!0),_e=o()(ke,2),Ae=_e[0],Ce=_e[1],Le=d.useState((t=$)?t.paragraphs.map((function(e){return e.text})).join("\n"):""),je=o()(Le,2),Be=je[0],Ne=je[1],Ue=d.useState(void 0),Me=o()(Ue,2),Fe=Me[0],He=Me[1],Ve=d.useState(!1),We=o()(Ve,2),Qe=We[0],ze=We[1],Ge=d.useCallback((function(){return ze(!1)}),[]),Ye=(0,p.v9)((function(e){return e.config.authDomain})),Ze=(0,M.YC)().value,qe=d.useCallback((function(){N().then((function(e){e.preventStateUpdate||(De(!1),be?Ne(""):(0,b.oe)(Pe))}))}),[De]);if(d.useEffect((function(){W&&De(!0)}),[W]),d.useEffect((function(){Ce(m.Node.string(Pe).toString().trim().length<=0)}),[xe]),d.useEffect((function(){Te&&!be&&(ae||ye||g.F3.blur(Pe),setTimeout((function(){return g.F3.focus(Pe)}),0))}),[Te]),Fe)return ve.event("inlineEditor.expand",{postId:n,context:v.r.INLINE_POST_RESPONSE,source:Ee}),d.createElement(S.Z,{to:(0,Z.d0)(Ye,Fe)});var $e,Ke,Xe=d.createElement(d.Fragment,null,!ue&&d.createElement("div",{className:he(J)},d.createElement(I.zx,{buttonStyle:"SUBTLE",size:"SMALL",onClick:function(){return qe()}},"Cancel")),d.createElement(I.zx,{buttonStyle:"STRONG",size:"SMALL",disabled:Ae||s||m.Node.string(Pe)===Be||u,onClick:function(){var e=be?B(Be,fe?{includeInitialDeltas:!1}:void 0):(0,b.wB)(Pe,fe?{includeInitialDeltas:!1}:void 0);null!=Ze&&Ze.unverifiedEmail?ze(!0):P(e,qe)}},fe?"Update":"Respond"));return d.createElement(V.Z,{marginBottom:ae?"0":"20px",padding:fe?"0":"0 24px",paddingTop:ae?"0":"20px"},d.createElement("div",{className:he({backgroundColor:"white",boxShadow:"0px 2px 8px rgba(0,0,0,0.12)",borderRadius:"4px",display:"flex",flexDirection:"column",paddingTop:Te?"14px":"0",paddingBottom:Te?"14px":"0",transition:"padding-top ".concat(ee,", padding-bottom ").concat(ee)})},Ze&&le&&d.createElement("div",{className:he(($e=Te,Ke={display:"flex",alignItems:"center",justifyContent:"space-between",position:"relative",padding:"0 14px"},K(K({},Ke),{},$e?{transition:"opacity ".concat(ee,", max-height ").concat(ee,", margin-bottom ").concat(ee),opacity:1,maxHeight:"100px",marginBottom:"6px"}:{transition:"opacity ".concat(te,", max-height ").concat(te,", margin-bottom ").concat(te),opacity:0,maxHeight:0,marginBottom:"0"})))},d.createElement(V.Z,{display:"flex",alignItems:"center"},d.createElement(H.ZP,{scale:"XS",user:Ze}),d.createElement(V.Z,{marginLeft:"12px",display:"flex",justifyContent:"center",alignItems:"flex-start",flexDirection:"column"},d.createElement(z.F,{scale:"M",color:"DARKER"},Ze.name),fe&&i&&d.createElement(z.F,{scale:"M",color:"LIGHTER"},d.createElement(x.Z,{timestamp:i})))),Te&&!ue&&d.createElement(V.Z,{display:"flex",justifyContent:"flex-end"},d.createElement(D,{isEdit:fe,setDraftResponseId:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){return He(r)})),saveResponse:function(){var e=be?B(Be):(0,b.wB)(Pe);return O(e,He)}}))),Te&&d.createElement(C,{quote:W}),d.createElement(V.Z,{display:"flex",flexDirection:"column"},Ze?d.createElement("div",{className:he(re(Te))},be?d.createElement(L,{onFocus:function(){return De(!0)},responseContent:Be,setIsEmpty:Ce,setResponseContent:Ne,isEditorOpen:Te}):d.createElement(V.Z,{padding:"14px"},d.createElement(E.c,{editor:Pe},d.createElement(h.O,{onFocus:function(){return De(!0)},renderLeaf:Ie,renderElement:we,placeholder:oe})))):d.createElement(F.R9,{operation:"register",susiEntry:"respond_sidebar"},d.createElement(V.Z,{padding:"14px"},d.createElement(z.F,{scale:"M",color:"LIGHTER"},"What are your thoughts?"))),ue?d.createElement("div",{className:he(ne(Te,{justifyContent:"space-between"}))},d.createElement(I.XZ,{onChange:ge,checked:pe===_.Et.DISTRIBUTED,textColor:"LIGHTER",textScale:"S",checkboxStyle:"OBVIOUS",marginRight:"8px"},"Also publish to my profile"),Xe):d.createElement("div",{className:he(ne(Te,{alignSelf:"flex-end"}))},Xe))),d.createElement(Q,{isVisible:Qe,hide:Ge}))}},85714:(e,t,n)=>{"use strict";n.d(t,{ZP:()=>d,v:()=>p,QX:()=>m});var r=n(28655),o=n.n(r),i=n(71439),a=n(67294),s=n(12291),l=n(85277);function c(){var e=o()(["\n  fragment SuspendedBannerLoader_post on Post {\n    id\n    isSuspended\n  }\n"]);return c=function(){return e},e}function u(){var e=o()(["\n  fragment SuspendedBannerLoader_user on User {\n    id\n    isSuspended\n  }\n"]);return u=function(){return e},e}const d=(0,s.$j)()((function(e){var t=e.dispatch,n=e.user,r=e.post;return a.useEffect((function(){n&&n.isSuspended?t((0,l.Dx)({duration:"NEXTPAGE",message:"",toastStyle:"USER_SUSPENDED"})):r&&r.isSuspended&&t((0,l.Dx)({duration:"NEXTPAGE",message:"",toastStyle:"POST_SUSPENDED",extraParams:{postId:(null==r?void 0:r.id)||""}}))}),[]),null}));var p=(0,i.Ps)(u()),m=(0,i.Ps)(c())},65025:(e,t,n)=>{"use strict";n.d(t,{gc:()=>jo,De:()=>No,m6:()=>Uo});var r=n(28655),o=n.n(r),i=n(67154),a=n.n(i),s=n(63038),l=n.n(s),c=n(71439),u=n(58875),d=n.n(u),p=n(67294),m=n(12291),g=n(28859),f=n(46829),h=n(72826);function v(){var e=o()(["\n  fragment PostCacheTagger_post on Post {\n    id\n    collection {\n      id\n    }\n    creator {\n      id\n    }\n  }\n"]);return v=function(){return e},e}var E=function(e){var t=e.post,n=t.id,r=t.collection,o=t.creator,i=["group-edgeCachePosts","post-".concat(n)];o&&o.id&&i.push("user-".concat(o.id)),r&&r.id&&i.push("collection-".concat(r.id));var a=(0,m.I0)();return 0===(0,m.v9)((function(e){return e.cache.tags})).length&&a((0,h.zl)(i)),null},b=(0,c.Ps)(v()),y=n(85740),x=n(31235);function S(){var e=o()(["\n  fragment PostCacheController_post on Post {\n    id\n    isLocked\n    ...PostCacheTagger_post\n  }\n  ","\n"]);return S=function(){return e},e}var P=function(e){var t=e.post,n=e.isLoggedIn,r=(0,y.gc)("post_edge_cache_enabled"),o=r.loading,i=r.error,a=r.value,s=(0,y.gc)("is_internal_ip").value,l=(0,m.I0)(),c=(0,x.kP)(),u=(0,x.iX)(),d=(0,x.fU)(),g="";(0,p.useEffect)((function(){return function(){c||l((0,h.LG)())}}),[t.id,c]);var v=(0,f.getApolloContext)(),b=p.useContext(v);if((0,m.v9)((function(e){return e.config.isTaggedVersion}))&&(g="This is a test deployment"),(0,m.v9)((function(e){return e.session.isSpoofed}))&&(g="This request has a spoofed session"),s&&(g="This request came from an Internal IP"),t.isLocked&&(g="This is a locked post"),n&&(g="You are logged in"),g)return d||l((0,h.F6)(g)),null;if(!c||u)return null;if(o||i)return null;var S=function(){b.renderPromises&&b.renderPromises.addQueryPromise({getOptions:function(){return{cacheControllerRerender:!0}},fetchData:function(){return Promise.resolve()}},(function(){}))};return a?(l((0,h.pA)()),S(),p.createElement(E,{post:t})):(l((0,h.gQ)()),l((0,h.F6)("Variant is not enabled for this page")),S(),null)},I=(0,c.Ps)(S(),b),w=n(59713),R=n.n(w),O=n(68254),T=n.n(O);function D(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function k(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?D(Object(n),!0).forEach((function(t){R()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):D(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const _=(0,m.$j)((function(e){return{googleAnalyticsCode:e.config.googleAnalyticsCode}}))((function(e){var t=e.googleAnalyticsCode,n=e.collectionGoogleAnalyticsId,r=n?{trackCollectionPageview:{on:"visible",request:"pageview",vars:{account:n}}}:{},o={triggers:k(k({},{trackPageview:{on:"visible",request:"pageview",vars:{account:t}}}),r)},i={__html:'<script type="application/json">'.concat(T()(o,{isJSON:!0}),"<\/script>")};return p.createElement("amp-analytics",{type:"googleanalytics",id:"google-analytics",dangerouslySetInnerHTML:i})}));var A=n(85549),C=n(638),L=n(45113),j=n(9972),B=n(2955),N=n(94132),U=n(26463),M=n(62872),F=n(7530),H=n(67122),V=function(e){var t=e.children;return p.createElement(p.Fragment,null,p.createElement(F.xu,{marginTop:"-240px",background:"linear-gradient(".concat((0,H.l9)(0),",\n        ").concat((0,H.l9)(.5),",\n        ").concat((0,H.l9)(1),")"),height:"250px",position:"relative",width:"100%"}),p.createElement(F.xu,{backgroundColor:"BACKGROUND"},p.createElement(F.xu,{margin:"auto",maxWidth:"760px",sm:{margin:"0 18px 0"}},t)))},W=n(51562),Q=n(86280),z=n(324),G=n(80439),Y=n(90738),Z=n(14414),q=n(62630),$=n(27572),K=n(11348);function X(){var e=o()(["\n  mutation SendAcctAuthEmailByUserId(\n    $userId: String!\n    $redirect: String\n    $fullName: String\n    $captchaValue: String\n  ) {\n    sendAcctAuthEmailByUserId(\n      userId: $userId\n      redirect: $redirect\n      fullName: $fullName\n      captchaValue: $captchaValue\n    ) {\n      ... on SusiMethod {\n        value\n      }\n      ... on BadRequest {\n        message\n      }\n      ... on FailedChallenge {\n        message\n      }\n      ... on NotFound {\n        message\n      }\n    }\n  }\n"]);return X=function(){return e},e}var J=(0,c.Ps)(X()),ee=function(e){var t=e.actionUrl,n=e.children,r=e.onSuccess,o=e.token,i=e.userId,a=(0,q.Av)(),s=!!(0,y.P5)("skip_sign_in_recaptcha"),c=p.useState(!1),u=l()(c,2),d=u[0],g=u[1],f=(0,m.v9)((function(e){return e.navigation.currentLocation})),h=function(){g(!1)},v=(0,$.pK)(),E=(0,$.hp)(),b=t&&o?(0,Z.hQ)(f,v,E,t,o):(0,Z.hQ)(f,v,E),x=(0,Q.rZ)(),S=x.loading,P=x.error,I=x.viewerId;return S||P?null:p.createElement(G.mm,{mutation:J,onCompleted:function(e){switch(e.sendAcctAuthEmailByUserId.__typename){case"SusiMethod":a.event("site.loginLinkSent",{}),r&&r();break;case"FailedChallenge":a.event("site.loginByEmailCaptchaFailure",{}),g(!1);break;case"BadRequest":case"NotFound":default:h()}},onError:h},(function(e){var t=function(t){(0,K.Zs)(!0,I,i,"Email",!1);var n="medium";a.event("susi.methodClicked",{entryPoint:E,operation:"login",susiMethod:n.toLowerCase(),alternateUserSuggestionShown:!0,alternateUserSuggestionAccountType:n.toLowerCase(),alternateUserSuggestionTargetUserId:i,alternateUserSuggestionSourceUserId:I}),e({variables:{userId:i,redirect:b,captchaValue:t}})};return p.createElement(p.Fragment,null,!s&&p.createElement(Y.k,{callback:t,shouldExecuteRecaptcha:d}),n({handleSubmit:function(){return s?t(null):g(!0)}}))}))},te=n(90174),ne=n(4134),re=n(70146),oe=n(37581),ie=function(e){var t=e.actionUrl,n=e.token,r=e.userSocialLogins,o={actionUrl:t||"",operation:"login",token:n||"",targetUserId:r.userId,alternateUserSuggestion:!0};return p.createElement(oe.$,{eventData:{operation:o.operation}},r.google?p.createElement(ne.x,o):r.facebook?p.createElement(te.q,o):r.twitter?p.createElement(re.G,o):p.createElement(p.Fragment,null))},ae=n(85277);function se(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var le=function(e){var t=e.declineSuggestedAccount,n=e.isSocial,r=(0,m.v9)((function(e){return{hasRenderedAlternateUserBanner:e.navigation.hasRenderedAlternateUserBanner}}),m.wU).hasRenderedAlternateUserBanner,o=(0,$.hp)(),i=(0,m.I0)(),a=(0,Q.YC)(),s=a.loading,l=a.error,c=a.value;if(s||l)return p.createElement(p.Fragment,null);var u=function(e){return e?p.createElement(F.rU,{onClick:function(){return d("SIGNIN_OPTIONS")},linkStyle:"OBVIOUS"},"See all login options"):p.createElement(p.Fragment,null,"Not you?"," ",p.createElement(F.rU,{onClick:function(){return d("SIGNIN_OPTIONS")},linkStyle:"OBVIOUS"},"Sign in")," or ",p.createElement(F.rU,{onClick:function(){return d("SIGNUP_OPTIONS")},linkStyle:"OBVIOUS"},"create an account"))},d=function(e){var n="SIGNIN_OPTIONS"===e?"login":"register";t(),i((0,ae.Pc)(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?se(Object(n),!0).forEach((function(t){R()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):se(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({operation:n,step:e},!!o&&{susiEntry:o})))};return r?u(c):c?p.createElement(F.rU,{onClick:function(){return t()}},"Not me"):u(n)},ce=n(51512);function ue(e){if((e.match(/ /g)||[]).length>1)return"";var t=e.indexOf(" ");return e.substring(0,t)}function de(e){return e.google?"google":e.facebook?"facebook":e.twitter?"twitter":"medium"}var pe=n(8403);function me(){var e=o()(["\n  query UserSocialLoginsQuery($userId: String!) {\n    userSocialLogins(userId: $userId) {\n      userId\n      twitter\n      facebook\n      google\n      redactedEmailAddress\n      isMember\n      emailAddress\n      userAvatar {\n        __typename\n        username\n        name\n        imageId\n        mediumMemberAt\n      }\n    }\n  }\n"]);return me=function(){return e},e}function ge(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function fe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ge(Object(n),!0).forEach((function(t){R()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ge(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var he=function(e){var t=e.children,n=e.postRenderCallback,r=(0,q.Av)(),o=(0,$.hp)(),i=(0,pe.PM)(),a=(0,ce.P7)(i||""),s=a.userId,c=a.name,u=p.useState({shouldRun:!1,showSuggestedAccount:!1,userSocialLogins:{facebook:!1,google:!1,twitter:!1,redactedEmailAddress:"",emailAddress:"",userAvatar:{__typename:"UserAvatar",username:"",name:"",imageId:"",mediumMemberAt:0},userId:"",isMember:!1}}),d=l()(u,2),m=d[0],g=d[1];p.useEffect((function(){var e=m.shouldRun,t=m.showSuggestedAccount,r=m.userSocialLogins;e&&n(f,t,r)}),[m.shouldRun]);var f=(0,Q.YC)().value,h=(0,Q.rZ)(),v=h.loading,E=h.error,b=h.viewerId;if(v||E)return null;var y=!("email"!==c||f&&f.mediumMemberAt||!s);return y&&s?p.createElement(G.AE,{query:ve,variables:{userId:s}},(function(e){var i=e.loading,a=e.error,s=e.data,l=(s=void 0===s?{}:s).userSocialLogins,c=!(i||a||!l||f&&!l.isMember||!l.facebook&&!l.google&&!l.twitter&&!l.redactedEmailAddress),u=fe({loading:i,showSuggestedAccount:c},c&&{userSocialLogins:l,declineSuggestedAccount:function(){var e=de(l);r.event("susi.suggestNotYou",{entryPoint:o,susiMethod:e,alternateUserSuggestionAccountType:e,alternateUserSuggestionTargetUserId:null==l?void 0:l.userId,alternateUserSuggestionSourceUserId:b})}});return!n||i||m.shouldRun||g({shouldRun:!0,showSuggestedAccount:c,userSocialLogins:l}),t(u)})):(n&&!m.shouldRun&&g(fe(fe({},m),{},{shouldRun:!0})),t({showSuggestedAccount:y,loading:!1}))},ve=(0,c.Ps)(me()),Ee=n(62876),be=n(64504),ye=n(98024),xe=n(96907),Se=n(27952);function Pe(){var e=o()(["\n  fragment PayWall_post on Post {\n    id\n    creator {\n      name\n    }\n  }\n"]);return Pe=function(){return e},e}var Ie=function(e){var t=e.optimizelyFeatureString,n=e.post,r=e.viewer,o=e.showTrialPaywall,i=e.authDomain,a=!!(0,y.P5)("enable_lite_pay_page"),s=!!(0,y.P5)("enable_new_checkout_flow");return p.createElement($.cW,{source:{dimension:"post_limit",name:"upgrade_membership",postId:n.id}},p.createElement(xe.M,null,p.createElement(F.xu,{display:"inline-block",textAlign:"center"},p.createElement(W.W,{featureString:t,target:o?"trial-upsell-button":"upsell-button-".concat(r&&r.hasPastMemberships?"resume-membership":"upgrade")},p.createElement(Ee.a,{isButton:!0,buttonStyle:o?"BRAND":"STRONG",width:o||r&&r.hasPastMemberships?"182px":"104px",redirectUrl:a&&(o||s)?(0,Se.c5)(i):(0,Se.KP)(i)},o?"Start your free trial":r&&r.hasPastMemberships?"Resume membership":"Upgrade")))))},we=function(e){var t=e.declineSuggestedAccount,n=e.userSocialLogins,r=(0,m.I0)();return p.createElement($.cW,{source:{susiEntry:"post_paywall"},extendSource:!0},p.createElement(F.xu,{display:"flex",sm:{flexDirection:"column"}},p.createElement(F.xu,{display:"flex",flexDirection:"row",justifyContent:"center"},n.facebook||n.google||n.twitter?p.createElement(ie,{userSocialLogins:n}):p.createElement(ee,{onSuccess:function(){return r((0,ae.Pc)({step:"CHECK_YOUR_INBOX",operation:"login",susiEntry:"post_paywall"}))},userId:n.userId},(function(e){var t=e.handleSubmit;return p.createElement(F.zx,{buttonStyle:"SOCIAL",size:"REGULAR",onClick:t},"Send login link")})))),t&&p.createElement(F.xu,{marginTop:"10px",marginRight:"5px",sm:{marginTop:"20px"},display:"flex",justifyContent:"center",flexDirection:"column"},p.createElement(ye.F,{scale:"M"},p.createElement(le,{declineSuggestedAccount:t,isSocial:!!n&&!!(n.facebook||n.google||n.twitter)}))))},Re=function(e){var t=e.declineSuggestedAccount,n=e.userSocialLogins,r=e.suggestedAccountEventData,o=e.showSuggestedAccount,i=e.postId;return p.createElement($.cW,{source:{dimension:"post_limit_suggestion",name:"upgrade_membership",postId:i}},p.createElement(xe.M,{eventData:r},p.createElement(F.xu,{display:"inline-block",textAlign:"center"},p.createElement(we,{declineSuggestedAccount:t,showSuggestedAccount:o,userSocialLogins:n}),p.createElement(F.xu,{display:"flex",flexDirection:"row",marginTop:"10px",sm:{justifyContent:"center"}},p.createElement(ye.F,{scale:"L"},p.createElement(Ee.a,{eventData:r,linkStyle:"OBVIOUS"},"Learn more about membership"))))))},Oe=function(e){var t=e.post,n=(0,m.v9)((function(e){return e.config.authDomain})),r=(0,m.v9)((function(e){return e.config.productName})),o=(0,Q.YC)().value,i=(0,Q.rZ)().viewerId,a=(0,q.Av)(),s=null==o?void 0:o.isMembershipTrialEligible,l=!(!(0,y.P5)("enable_trial_upsell")||!s),c=!!(0,y.P5)("optimizely_holdback");p.useEffect((function(){s&&a.event("experiment.eligible",{experimentId:"6797776ba4cf"})}),[]);var u="paywall";return p.createElement(z.N8,null,p.createElement(V,null,p.createElement(he,{postRenderCallback:function(){}},(function(e){var a,s=e.loading,d=e.showSuggestedAccount,m=e.declineSuggestedAccount,g=e.userSocialLogins;return s?p.createElement(p.Fragment,null):(d&&(u="suggested-account-paywall"),d&&(a={alternateUserSuggestionShown:d,alternateUserSuggestionAccountType:de(g),alternateUserSuggestionTargetUserId:!!g&&g.userId,alternateUserSuggestionSourceUserId:i}),p.createElement(p.Fragment,null,p.createElement(W.W,{featureString:u,target:l?"trial-background-color":"background-color"},p.createElement(F.xu,{display:"flex",minHeight:"350px",justifyContent:"center",textAlign:"center",sm:{flexDirection:"column"}},p.createElement(F.xu,{display:"flex",flexDirection:"column",padding:"48px 50px",sm:{padding:"28px 16px 32px",textAlign:"center"}},p.createElement(W.W,{featureString:u,target:l?"webCCTrialHeading":"fewerClicksHeading"},p.createElement(be.F1,{scale:{xs:"S",sm:"S",md:"M",lg:"M",xl:"M"}},function(e,t,n,r){var o=r.showSuggestedAccount,i=r.showTrialPaywall,a=r.inHoldback,s=t?ue(t):null;return s=s&&s.length<=13?s:null,o?"Switch to your member account for unlimited reading.":i?p.createElement(F.xu,{textAlign:"center",sm:{marginBottom:"5px",textAlign:"center"}},s?"".concat(s,", keep reading."):"Keep reading."):p.createElement(F.xu,{textAlign:"left",sm:{marginBottom:"5px",textAlign:"center"}},a?"How to read this story — and everything else on ".concat(e,"."):s?n?"".concat(s,", read more from ").concat(n," — and everyone else on ").concat(e,"."):"".concat(s,", here's how to read this story — and everything else on ").concat(e,"."):n?"How to read this story from ".concat(n," — and everything else on ").concat(e,"."):"How to read this story — and everything else on ".concat(e,"."))}(r,o&&o.name,t.creator&&t.creator.name,{showSuggestedAccount:d,showTrialPaywall:l,inHoldback:c}))),p.createElement(ye.F,{scale:{xs:"M",sm:"M",md:"L",lg:"L",xl:"L"},color:"DARKER",tag:"div"},!d&&!l&&p.createElement(p.Fragment,null,p.createElement(W.W,{featureString:u,target:"second-header-fewer-clicks"},p.createElement(F.xu,{marginTop:"8px",marginBottom:"28px",textAlign:"left",sm:{display:"inline-block",textAlign:"center"}},"You’ve read all your free member-only stories. Become a member to get unlimited access and support the voices you want to hear more from.")),p.createElement(F.xu,{display:"flex",justifyContent:"flex-start",sm:{justifyContent:"center"}},p.createElement(Ie,{optimizelyFeatureString:u,post:t,viewer:o,showTrialPaywall:l,authDomain:n}))),p.createElement(W.W,{featureString:u,target:l?"subtitle-copy-web-cc-trial":"subtitle-copy-fewer-clicks"},p.createElement(F.xu,{marginTop:d?"28px":"8px",marginBottom:"28px",paddingRight:"6px",paddingLeft:"6px",sm:{display:"inline-block"}},function(e,t,n,r){var o=n.showTrialPaywall;if(n.showSuggestedAccount&&t){var i=t.isMember,a=t.redactedEmailAddress;return p.createElement(p.Fragment,null,"Looks like you're coming from the ",i&&"member ","account"," ",p.createElement("b",null,a)," but you’re signed in as ",p.createElement("b",null,null==r?void 0:r.email),". Switch to your",i?" member account for unlimited access":" account",".")}return p.createElement(F.xu,{marginTop:"28px",marginBottom:"28px",textAlign:o?"center":"left"},o?"Start your 1 month free trial for unlimited access to everything on ".concat(e,". If it’s not for you, cancel anytime."):p.createElement(p.Fragment,null,p.createElement("b",null,"Read any story. "),"Access everything on ",e," across all your devices with no limits or ads.",p.createElement("br",null),p.createElement("br",null),p.createElement("b",null,"Reward great writing. "),"A portion of your membership fee will go toward the writers you read most."))}(r,g,{showSuggestedAccount:d,showTrialPaywall:l},o)))),!!d&&g&&p.createElement(Re,{declineSuggestedAccount:m,userSocialLogins:g,suggestedAccountEventData:a,showSuggestedAccount:d,postId:t.id}),l&&!d&&p.createElement(Ie,{optimizelyFeatureString:u,post:t,viewer:o,showTrialPaywall:l,authDomain:n}))))))}))))},Te=(0,c.Ps)(Pe()),De=n(6401),ke=n(62181),_e=n(5731),Ae=n(59317),Ce=n(81405);function Le(){var e=o()(["\n  fragment RegWall_meteringInfo on MeteringInfo {\n    postIds\n  }\n"]);return Le=function(){return e},e}function je(){var e=o()(["\n  fragment RegWall_post on Post {\n    id\n    lockedSource\n    ...SusiClickable_post\n  }\n  ","\n"]);return je=function(){return e},e}var Be="post_regwall",Ne=function(e){var t=e.enablePasswords,n=e.meterCount,r=e.optimizelyFeatureString,o=e.postId,i={operation:"register"},a=(0,Ae.j)().openModal,s=function(e){var n=e.children;return t?p.createElement(W.W,{featureString:r,target:"google-button"},n):n};return p.createElement(F.xu,{display:"flex",flexDirection:"column",textAlign:"center",sm:{flexDirection:"column"}},p.createElement(W.W,{featureString:r,target:"google-button"},p.createElement(F.xu,{margin:"".concat(t?"32px":"62px"," 0 10px"),sm:{margin:"40px 0 12px 0"}},p.createElement(oe.$,{eventData:{meterCount:n,operation:i.operation,postId:o}},p.createElement(ne.x,i)))),p.createElement(s,null,p.createElement(F.xu,{marginBottom:t?"32px":"52px",sm:{marginBottom:"40px"}},p.createElement(oe.$,{eventData:{meterCount:n,operation:i.operation,postId:o}},t?p.createElement(Ce.R,{goToEmailAuthStep:function(){a({step:"ENTER_EMAIL",susiEntry:Be,operation:"register"})},operation:"register"}):p.createElement(te.q,i)))))},Ue=function(e){var t=e.meteringInfo,n=e.post,r=(0,q.Av)(),o=!!(0,y.P5)("enable_passwords"),i="LOCKED_POST_SOURCE_SYNDICATED"===n.lockedSource,a="".concat(i?"syndicated-":"","regwall");return p.useEffect((function(){r.event("meter.viewed",{meterCount:null==t?void 0:t.postIds.length,postId:n.id,uiType:i?_e.j.SyndicatedRegwall:_e.j.RegWall})}),[]),p.createElement(z.N8,null,p.createElement($.cW,{source:{postId:n.id,susiEntry:Be}},p.createElement(V,null,p.createElement(W.W,{featureString:a,target:"background-color"},p.createElement(F.xu,{display:"flex",textAlign:"center",justifyContent:"center",sm:{flexDirection:"column",textAlign:"center"}},p.createElement(F.xu,{padding:"48px 56px",sm:{padding:"28px 16px 48px"}},p.createElement(W.W,{featureString:a,target:"heading"},p.createElement(be.F1,{scale:{xs:"S",sm:"S",md:"M",lg:"M",xl:"M"}},p.createElement(F.xu,{display:"none",sm:{display:"block"}},"To keep reading this story, get the free app or log in."),p.createElement(F.xu,{display:"block",sm:{display:"none"}},"Read the rest of this story with a free account."))),p.createElement(be.F,{color:"DARKER",scale:{xs:"M",sm:"M",md:"L",lg:"L",xl:"L"},tag:"div"},p.createElement(F.xu,{display:"none",margin:"auto",paddingTop:"10px",width:"500px"},"You’ll also discover more fresh thinking personalized to your interests and can follow your favorite authors, publications, and topics."),p.createElement(F.xu,{display:"none",sm:{display:"block"}},p.createElement(F.xu,{margin:"".concat(o?"40px":"42px"," 0")},p.createElement(De.a,{isButton:!0,postId:n.id,appEntry:"regwall"})),p.createElement(W.W,{featureString:a,target:"skip-app-copy"},p.createElement(F.xu,{marginBottom:"-20px"},"Or, continue in mobile web"))),p.createElement(Ne,{meterCount:null==t?void 0:t.postIds.length,optimizelyFeatureString:a,postId:n.id,enablePasswords:o}),p.createElement(W.W,{featureString:a,target:"sign-in-copy",tag:"span"},"Already have an account?"," "),p.createElement(W.W,{featureString:a,target:"sign-in-link",tag:"span"},p.createElement(ke.R9,{linkStyle:"OBVIOUS",operation:"login",post:n,susiEntry:Be},"Sign in")))))))))},Me=(0,c.Ps)(je(),ke.qU),Fe=(0,c.Ps)(Le());function He(){var e=o()(["\n  mutation AddCollaboratorMutation($postId: ID!) {\n    addCollaborator(postId: $postId)\n  }\n"]);return He=function(){return e},e}function Ve(){var e=o()(["\n  fragment AddCollaborator_post on Post {\n    isPublished\n    id\n  }\n"]);return Ve=function(){return e},e}var We=(0,c.Ps)(Ve()),Qe=(0,c.Ps)(He()),ze=n(47578),Ge=n(42963);function Ye(){var e=o()(["\n  fragment MaybeRedirectToEditor_post on Post {\n    id\n    isPublished\n    collection {\n      id\n      viewerCanEditOwnPosts\n      viewerCanEditPosts\n      viewerIsEditor\n    }\n    creator {\n      id\n    }\n  }\n"]);return Ye=function(){return e},e}var Ze=(0,c.Ps)(Ye()),qe=(0,m.$j)((function(e){return{authDomain:e.config.authDomain}}))((function(e){var t=e.authDomain,n=e.post,r=e.children;return p.createElement(Q.Q_,null,(function(e){return function(e,t){var n=e.collection,r=e.creator&&t&&e.creator.id===t.id,o=r&&n&&n.viewerCanEditOwnPosts||n&&(n.viewerIsEditor||n.viewerCanEditPosts);return(!e||!e.isPublished)&&(n?o:r)}(n,e)?p.createElement(Ge.Z,{to:(0,Se.d0)(t,n.id)}):r}))})),$e=n(66371),Ke=n(55253),Xe=n(70405),Je=n(319),et=n.n(Je),tt=n(82492),nt=n.n(tt),rt=n(90038),ot=n(96879),it=n(22744);function at(){var e=o()(["\n  fragment PostJsonLd_post on Post {\n    id\n    title\n    seoTitle\n    mediumUrl\n    creator {\n      name\n      username\n      ...userUrl_user\n    }\n    collection {\n      id\n      name\n      domain\n      slug\n      logo {\n        id\n        originalWidth\n        originalHeight\n      }\n    }\n    previewImage {\n      id\n      focusPercentX\n      focusPercentY\n      originalWidth\n      originalHeight\n    }\n    isLocked\n    firstPublishedAt\n    updatedAt\n    tags {\n      displayTitle\n    }\n    sequence {\n      slug\n    }\n    lockedSource\n    layerCake\n    isShortform\n    shortformType\n    structuredData\n    ...getTitleForPost_post\n  }\n  ","\n  ","\n"]);return at=function(){return e},e}function st(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function lt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?st(Object(n),!0).forEach((function(t){R()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):st(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ct(e){var t=e.id,n=e.originalWidth,r=e.originalHeight;if(!t||!n||!r)return null;var o=Math.min(r,60),i=o/r,a=Math.floor(n*i);return ut({width:a,height:o,url:(0,rt.W6)({miroId:t,width:a,freezeGifs:!0,strategy:rt._S.Resample})})}function ut(e){return lt({"@type":"ImageObject"},e)}function dt(e,t){return"".concat(e,":").concat(t)}const pt=(0,m.$j)((function(e){var t=e.config,n=t.productName,r=t.defaultImages,o=t.collectionStructuredData,i=e.navigation;return{currentLocation:i.currentLocation,host:i.host,productName:n,defaultImages:r,collectionStructuredData:o}}))((function(e){var t=e.currentLocation,n=e.host,r=e.post,o=e.postDescription,i=e.productName,a=e.defaultImages,s=e.collectionStructuredData,l=r.collection,c=r.creator,u=r.id,d=r.mediumUrl,m=r.isLocked,g=r.previewImage,f=r.firstPublishedAt,h=r.updatedAt,v=r.tags,E=r.sequence,b=r.lockedSource,y=r.layerCake,x=r.structuredData,S=(0,it._t)(r,i),P={id:a.postLogo.imageId,originalWidth:a.postLogo.width,originalHeight:a.postLogo.height},I={id:a.orgLogo.imageId,originalWidth:a.orgLogo.width,originalHeight:a.orgLogo.height},w=l?{"@type":"Organization",name:l.name,url:l.domain||(0,ot.l1)(n,(0,Se.WG)(l,t)),logo:function(e){if(!e||!e.logo||!e.logo.id)return ct(I);var t=ct(e.logo);return t&&60===t.height&&t.width<=600?t:ct(I)}(l)}:{"@type":"Organization",name:i,url:(0,ot.l1)(n,"/"),logo:ct(I)};l&&s&&s[l.id]&&nt()(w,s[l.id].data);var R=[dt("Lite","true")];v&&v.forEach((function(e){e.displayTitle&&R.push(dt("Tag",e.displayTitle))})),l&&l.slug&&R.push(dt("Publication",l.slug)),R.push(dt("Elevated",(!!E).toString())),E&&E.slug&&R.push(dt("Sequence",E.slug)),b&&R.push(dt("LockedPostSource",b)),null!=y&&R.push(dt("LayerCake",y.toString()));var O=o||"",D=m?{isAccessibleForFree:"False",hasPart:{"@type":"WebPageElement",isAccessibleForFree:"False",cssSelector:".meteredContent"}}:{},k={"@context":"http://schema.org"},_=lt({"@type":"NewsArticle",image:g&&g.id?function(e){var t=e.id,n=e.originalWidth,r=e.originalHeight,o=e.focusPercentX,i=e.focusPercentY;if(!t)return null;var a=1200,s=(0,rt.vz)({miroId:t,aspectRatio:16/9,croppedWidth:a,originalWidth:n,originalHeight:r,focusPercentX:o,focusPercentY:i}),l=(0,rt.vz)({miroId:t,aspectRatio:4/3,croppedWidth:a,originalWidth:n,originalHeight:r,focusPercentX:o,focusPercentY:i}),c=(0,rt.vz)({miroId:t,aspectRatio:1,croppedWidth:a,originalWidth:n,originalHeight:r,focusPercentX:o,focusPercentY:i}),u=new Set([s,l,c]);return Array.from(u)}(g):ut({url:(0,rt.W6)({miroId:P.id,width:P.originalWidth}),height:P.originalHeight,width:P.originalWidth}),url:d,dateCreated:f&&new Date(f).toISOString(),datePublished:f&&new Date(f).toISOString(),dateModified:h&&new Date(h).toISOString(),headline:S,name:S,description:O,identifier:u,keywords:R.length?R:null,author:c&&c.name&&c.username?{"@type":"Person",name:c.name||c.username,url:(0,Se.AW)(c,n)}:null,creator:c&&[c.name],publisher:w,mainEntityOfPage:d},D),A=lt(lt({},k),_);if(x&&x.length>0)try{var C=JSON.parse(x);if(C&&null!=C&&C["@graph"]&&(null==C?void 0:C["@graph"].length)>0){var L=((null==C?void 0:C["@graph"])||[]).filter((function(e){return(null==e?void 0:e["@type"])&&"NewsArticle"!==(null==e?void 0:e["@type"])}));L&&L.length>0&&(A=lt(lt({},k),{},{"@graph":[_].concat(et()(L))}))}}catch(e){}return p.createElement(Xe.q,null,p.createElement("script",{type:"application/ld+json"},T()(A,{isJSON:!0})))}));var mt=(0,c.Ps)(at(),it.bq,Se.$m),gt=n(27390),ft=n(71794);function ht(){var e=o()(["\n  fragment PostMetadata_post on Post {\n    id\n    socialTitle\n    socialDek\n    noIndex\n    curationStatus\n    canonicalUrl\n    mediumUrl\n    metaDescription\n    latestPublishedAt\n    visibility\n    isLimitedState\n    readingTime\n    creator {\n      name\n      twitterScreenName\n      ...userUrl_user\n    }\n    collection {\n      ampEnabled\n      twitterUsername\n      facebookPageId\n    }\n    previewContent {\n      subtitle\n    }\n    previewImage {\n      id\n      focusPercentX\n      focusPercentY\n      originalHeight\n      originalWidth\n    }\n    isShortform\n    noIndex\n    curationStatus\n    ...PostJsonLd_post\n    ...postMetaDescription_post\n    ...shortformPostMetaDescription_post\n    ...shouldIndex_post\n    ...shortformPostTitle_post\n    ...getTitleDetails_post\n    ...getTitleForPost_post\n  }\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n"]);return ht=function(){return e},e}function vt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Et(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?vt(Object(n),!0).forEach((function(t){R()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):vt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const bt=(0,m.$j)((function(e){return{authDomain:e.config.authDomain,host:e.navigation.host,productName:e.config.productName}}))((function(e){var t,n,r=e.isAmp,o=e.host,i=e.authDomain,a=e.productName,s=e.post,l=s.canonicalUrl,c=s.collection,u=s.creator,d=s.id,m=s.latestPublishedAt,g=s.mediumUrl,f=s.previewContent,h=s.socialTitle,v=s.socialDek,E=s.visibility,b=s.isShortform,x=c&&c.ampEnabled,S=u&&u.name,P=(0,it.yB)(s),I=s.title||"",w=P.latestTitle||I;if(b){var R=Et(Et({},s),{},{title:w});t=(0,it.oS)(R,a,P.hasTitleGraf).trim(),n=(0,ft.OO)(s,P.hasTitleGraf)}else t=(0,it._t)(s,a,P,!0).trim(),n=(0,ft.j7)(s);var O,T,D=v||f&&f.subtitle||n;if(s&&s.previewImage&&s.previewImage.id&&!s.isLimitedState){var k=s.previewImage;O=(0,rt.vz)({miroId:k.id,aspectRatio:1.9,croppedWidth:k.originalWidth?Math.min(k.originalWidth,1200):1200,originalWidth:k.originalWidth,originalHeight:k.originalHeight,focusPercentX:k.focusPercentX,focusPercentY:k.focusPercentY})}else if(s.isLimitedState){var _={id:"1*3SjgcTt7wCYYS10ff6-0JQ.png",originalWidth:748,originalHeight:390,focusPercentX:50,focusPercentY:40};O=(0,rt.vz)({miroId:_.id,aspectRatio:1.9,croppedWidth:_.originalWidth?Math.min(_.originalWidth,1200):1200,originalWidth:_.originalWidth,originalHeight:_.originalHeight,focusPercentX:_.focusPercentX,focusPercentY:_.focusPercentY})}u&&u.username&&(T=(0,Se.AW)(u,i));var A=(0,Se.CK)(d),C=(0,y.P5)("deindex_from_external_search_threshold"),L=!(0,it.ao)(s,C),j=m&&new Date(m).toISOString(),B=(0,gt.Vd)(s.readingTime||0),N=u&&u.twitterScreenName,U=c&&c.twitterUsername||"Medium",M=c&&c.facebookPageId,F=h||I||w;s.isLimitedState&&(F="");var H=s.isLimitedState?"":D,V=p.useMemo((function(){var e;return p.createElement(Xe.q,{htmlAttributes:r?{amp:void 0}:{}},p.createElement("meta",{property:"og:type",content:"article"}),j&&p.createElement("meta",{property:"article:published_time",content:j}),x&&!r?p.createElement("link",{rel:"amphtml",href:(0,Se.Vc)(o,d)}):null,p.createElement("title",null,t),p.createElement("meta",{name:"title",content:t}),p.createElement("meta",{property:"og:title",content:F}),p.createElement("meta",{property:"twitter:title",content:F}),M&&p.createElement("meta",{property:"fb:pages",content:M}),p.createElement("meta",{name:"twitter:site",content:"@".concat(U)}),p.createElement("meta",{name:"twitter:app:url:iphone",content:A}),p.createElement("meta",{property:"al:android:url",content:A}),p.createElement("meta",{property:"al:ios:url",content:A}),p.createElement("meta",{property:"al:android:app_name",content:"Medium"}),n&&p.createElement("meta",{name:"description",content:n}),D&&p.createElement("meta",{property:"og:description",content:H}),D&&p.createElement("meta",{property:"twitter:description",content:H}),p.createElement("meta",{property:"og:url",content:null!=g?g:void 0}),p.createElement("meta",{property:"al:web:url",content:null!=g?g:void 0}),O&&p.createElement("meta",{property:"og:image",content:O}),O&&p.createElement("meta",{name:"twitter:image:src",content:O}),p.createElement("meta",{name:"twitter:card",content:O?"summary_large_image":"summary"}),T&&p.createElement("meta",{property:"article:author",content:T}),T&&p.createElement("link",{rel:"author",href:T}),N&&p.createElement("meta",{name:"twitter:creator",content:"@".concat(N)}),S&&p.createElement("meta",{name:"author",content:S}),p.createElement("link",{rel:"canonical",href:null!==(e=l||g)&&void 0!==e?e:void 0}),p.createElement("link",{rel:"alternate",href:(0,Se.zi)((0,Se.o2)("medium.com",s.id))}),p.createElement("meta",{name:"robots",content:"".concat(L?"noindex":"index",",follow,max-image-preview:large")}),p.createElement("meta",{name:"referrer",content:"UNLISTED"!==E?"unsafe-url":"origin"}),r?null:p.createElement("meta",{name:"twitter:label1",content:"Reading time"}),r?null:p.createElement("meta",{name:"twitter:data1",content:"".concat(B," min read")}),p.createElement("meta",{name:"parsely-post-id",content:d}))}),[r,t,l,g,O,x,d,h,n,T,S,N,A,L,j]);return p.createElement(p.Fragment,null,V,p.createElement(pt,{post:s,postDescription:n}))}));var yt=(0,c.Ps)(ht(),mt,ft.iI,ft.m3,it.p3,it.Pz,it.dm,it.bq,Se.$m),xt=n(51607),St=n(72955),Pt=n(14391),It=n(76579);function wt(){var e=o()(["\n  fragment PostPublishedDialog_prerequisite_post on Post {\n    id\n    creator {\n      id\n    }\n    collection {\n      id\n      viewerIsEditor\n    }\n    creatorPartnerProgramEnrollmentStatus\n  }\n"]);return wt=function(){return e},e}function Rt(){var e=o()(["\n  query PostPublishedDialogQuery($postId: ID!) {\n    post(id: $postId) {\n      id\n      ...PostPublishedDialog_post\n    }\n  }\n  ","\n"]);return Rt=function(){return e},e}function Ot(){var e=o()(["\n  fragment PostPublishedDialog_post on Post {\n    id\n    inResponseToPostResult {\n      __typename\n    }\n    visibility\n    curationEligibleAt\n    mediumUrl\n    shareKey\n    ...ShareButton_post\n    creatorPartnerProgramEnrollmentStatus\n    isNewsletter\n    isPublishToEmail\n    creator {\n      id\n    }\n  }\n  ","\n"]);return Ot=function(){return e},e}var Tt=function(){return p.createElement(F.xu,null,p.createElement(F.rU,{inline:!0,linkStyle:"OBVIOUS",href:(0,Se.Sc)()},"Learn more")," ","about what happens to your post when you publish.")};var Dt=(0,c.Ps)(Ot(),xt.M),kt=(0,c.Ps)(Rt(),Dt),_t=function(e){var t=e.url,n=e.label;return p.createElement(It.b,{url:t},(function(e){return p.createElement(F.xu,{marginBottom:"8px"},p.createElement(F.zx,{buttonStyle:"SOCIAL",size:"REGULAR",width:"212px",onClick:function(e){return e}},p.createElement(F.xu,{display:"flex",alignItems:"center",justifyContent:"center"},e?"Copied!":n)))}))},At=function(e){var t=e.post,n=e.isUnlisted,r=e.postPath;return p.createElement(F.xu,{display:"flex",flexDirection:"column",alignItems:"center"},p.createElement(be.F,{color:"DARKER",scale:"L"},function(e){return e?"Share your story outside Medium.":"Share your story with the world."}(n)),p.createElement(F.xu,{marginTop:"20px"},!n&&p.createElement(p.Fragment,null,p.createElement(F.xu,{marginBottom:"8px"},p.createElement(xt.T,{socialPlatform:"FACEBOOK",buttonStyle:"BUTTON_BRANDED",post:t})),p.createElement(F.xu,{marginBottom:"8px"},p.createElement(xt.T,{socialPlatform:"TWITTER",buttonStyle:"BUTTON_BRANDED",post:t})),p.createElement(F.xu,{marginBottom:"8px"},p.createElement(xt.T,{socialPlatform:"LINKEDIN",buttonStyle:"BUTTON_BRANDED",post:t}))),p.createElement(_t,{url:r,label:"Copy story link"})))},Ct=function(e){var t=e.viewerId,n=e.isVisible,r=e.hide,o=e.post,i=o.id,a=o.visibility,s=o.curationEligibleAt,l=o.mediumUrl,c=o.shareKey,u=o.creatorPartnerProgramEnrollmentStatus,d=o.isNewsletter,g=o.isPublishToEmail,f=o.creator,h="UNLISTED"===a,v=!!s,E=u===Pt.iR.ENROLLED,b=(0,m.v9)((function(e){return e.config.productName})),y="Your story is published!";return g&&t===(null==f?void 0:f.id)?y="Your story has been published and sent!":d&&(y="Your newsletter is on its way!"),p.createElement(F.Vq,{isVisible:n,hide:r,withAnimation:!0,withCloseButton:!1},p.createElement(F.xu,{background:H.ix,borderRadius:"4px",boxShadow:"0 2px 10px ".concat((0,H.Uy)(.15)),position:"relative",width:"900px",textAlign:"center",md:{width:"600px"},sm:{width:"calc(100vw - 128px)"}},p.createElement(F.xu,{padding:"56px",display:"flex",flexDirection:"column",justifyContent:"center",minHeight:"485px"},p.createElement(F.xu,{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},p.createElement(be.F1,{scale:"L",tag:"h3"},y),p.createElement(F.xu,{maxWidth:"520px",marginTop:"20px"},p.createElement(be.F,{color:"DARKER",scale:"L"},function(e,t,n,r,o){return r?function(e,t){return e?"Your email will be delivered to your newsletter subscribers and editors, but will not appear publicly on ".concat(t,"."):p.createElement(p.Fragment,null,"Your subscribers and editors should have it soon. It’ll also show up on ",t," readers’ homepages and Digest emails depending on their interests."," ",p.createElement(F.rU,{inline:!0,linkStyle:"OBVIOUS",href:"https://help.medium.com/hc/en-us/articles/115004682167-How-to-use-Newsletters"},"Learn more"))}(e,o):e?"Your unlisted story will not appear publicly on ".concat(o,", but you can still share it."):n?t?p.createElement(p.Fragment,null,"As a member of the Partner Program, you’ve chosen to make this story eligible to earn money. It will be part of ",o,"’s metered paywall.",p.createElement(Tt,null)):p.createElement(p.Fragment,null,"You did not choose to make this story eligible to earn money. It will not be part of"," ",o,"’s metered paywall.",p.createElement(Tt,null)):p.createElement(p.Fragment,null,"This story isn’t currently eligible to earn money. To make this story eligible, join the"," ",o," Partner Program."," ",p.createElement(F.rU,{inline:!0,linkStyle:"OBVIOUS",href:"https://medium.com/earn"},"Learn more."))}(h,v,E,d,b))),p.createElement(F.xu,{paddingTop:"20px"},v&&!h&&l&&c&&p.createElement(_t,{url:(0,ot.Rk)((0,Se.jV)(o),{sk:c}),label:"Copy Friend Link"})),p.createElement(F.xu,{borderBottom:"BASE_LIGHTER",width:"100%",margin:"20px 0"})),i&&l&&p.createElement(At,{post:o,isUnlisted:h,postPath:(0,Se.jV)(o)})),p.createElement(F.PZ,{onClick:r,size:"LARGE"})))},Lt=function(e){var t=e.post,n=p.useState(!1),r=l()(n,2),o=r[0],i=r[1];return o?p.createElement(Q.Q_,null,(function(n){return n&&n.id&&(n.id===(t.creator&&t.creator.id)||t.collection&&t.collection.viewerIsEditor)?p.createElement(G.AE,{ssr:!1,query:kt,variables:{postId:t.id}},(function(t){var r=t.loading,o=t.data,i=(o=void 0===o?{}:o).post;if(r||!i||i.inResponseToPostResult)return null;var a={isVisible:e.isVisible,hide:e.hide,post:i,viewerId:n.id};return p.createElement(Ct,a)})):null})):(St.V6.on("load",(function(){return i(!0)})),null)},jt=(0,c.Ps)(wt()),Bt=n(49925),Nt=n(59877),Ut=n(28309),Mt=n(534);function Ft(){var e=o()(["\n  fragment PostScreenThemeProvider_post on Post {\n    collection {\n      colorPalette {\n        ...customDefaultBackgroundTheme_colorPalette\n      }\n      ...auroraHooks_publisher\n    }\n    creator {\n      ...auroraHooks_publisher\n    }\n    customStyleSheet {\n      ...customDefaultBackgroundTheme_customStyleSheet\n      ...customStyleSheetFontTheme_customStyleSheet\n    }\n  }\n  ","\n  ","\n  ","\n  ","\n"]);return Ft=function(){return e},e}var Ht=function(e){var t=e.children,n=e.post,r=(0,Bt.GT)(n.collection||n.creator),o=(0,Ut.Fg)();if(r){var i,a=(0,Mt.ZI)(n.customStyleSheet,(0,Mt.zI)(n.customStyleSheet,o,null===(i=n.collection)||void 0===i?void 0:i.colorPalette));return p.createElement(Ut.f6,{theme:a},t)}var s,l=(0,Mt.zI)(null,o,null===(s=n.collection)||void 0===s?void 0:s.colorPalette);return p.createElement(Ut.f6,{theme:l},p.createElement(Nt.r,null,t))},Vt=(0,c.Ps)(Ft(),Bt.C5,Mt.L9,Mt.Ui,Mt.VE),Wt=n(62182),Qt=n(50493),zt=n(25415),Gt=n(93227),Yt=n(69677),Zt=n(72846),qt=n(91442),$t=n(11642);function Kt(){var e=o()(["\n  fragment NormalizeHighlights_paragraph on Paragraph {\n    name\n    text\n  }\n"]);return Kt=function(){return e},e}function Xt(){var e=o()(["\n  fragment NormalizeHighlights_highlight on Quote {\n    endOffset\n    startOffset\n    paragraphs {\n      name\n      text\n    }\n  }\n"]);return Xt=function(){return e},e}function Jt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function en(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Jt(Object(n),!0).forEach((function(t){R()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Jt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function tn(e,t,n){if(!e||"number"!=typeof t||"number"!=typeof n)return null;var r=t,o=n;return e.substr(r,o-r)}var nn=(0,c.Ps)(Xt()),rn=(0,c.Ps)(Kt());function on(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function an(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?on(Object(n),!0).forEach((function(t){R()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):on(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function sn(){var e=o()(["\n  query InteractivePostBodyQuery($postId: ID!, $showNotes: Boolean!) {\n    post(id: $postId) {\n      id\n      highlights {\n        id\n        ...ActiveSelectionContext_highlight\n        ...HighlighSegmentContext_highlight\n        ...NormalizeHighlights_highlight\n        ...PostBody_highlight\n      }\n      privateNotes @include(if: $showNotes) {\n        ...PostBody_privateNote\n      }\n    }\n  }\n  ","\n  ","\n  ","\n  ","\n  ","\n"]);return sn=function(){return e},e}function ln(){var e=o()(["\n  fragment InteractivePostBody_post on Post {\n    id\n    # please note that postMeteringOptions is defined in PostHandler, which uses InteractivePostBody\n    content(postMeteringOptions: $postMeteringOptions) {\n      isLockedPreviewOnly\n      bodyModel {\n        ...PostBody_bodyModel\n        paragraphs {\n          ...HighlighSegmentContext_paragraph\n          ...NormalizeHighlights_paragraph\n        }\n      }\n    }\n    creator {\n      id\n      allowNotes\n      ...PostBody_creator\n    }\n    ...ActiveSelectionContext_post\n  }\n  ","\n  ","\n  ","\n  ","\n  ","\n"]);return ln=function(){return e},e}var cn=(0,c.Ps)(ln(),Gt.iF,qt.iB,rn,Zt.Pk,Zt.v),un=(0,c.Ps)(sn(),Gt.UW,qt.g8,Zt.XV,Zt.w6,nn);const dn=p.forwardRef((function(e,t){var n=e.activeGrafId,r=e.activeNoteId,o=e.isAuroraPostPageEnabled,i=e.post,s=e.postBodyInserts,l=(0,x.xg)(),c=i.content,u=i.latestPublishedVersion;if(!c)throw new Error("Expected post to have content.");var d={bodyModel:c.bodyModel,creator:i.creator,isAuroraPostPageEnabled:o,postBodyInserts:s,ref:t,richTextStyle:"FULL_PAGE"},m=i&&i.creator&&i.creator.allowNotes||!1;return c.isLockedPreviewOnly||l?p.createElement(Zt.ZP,d):p.createElement(G.AE,{notifyOnNetworkStatusChange:!0,ssr:!1,query:un,variables:{postId:i.id,showNotes:m}},(function(e){var t=e.data,o=(t=void 0===t?{}:t).post,s=c.bodyModel&&c.bodyModel.paragraphs,l=function(e,t){return e&&t?e.map((function(e){var n=e.endOffset,r=e.startOffset,o=e.paragraphs&&e.paragraphs[0],i=function(e,t){return e?t.find((function(t){var n=t.name;return e===n})):null}(o.name,t);if(!o||!i)return null;var a=tn(o.text,r,n),s=tn(i.text,r,n);if(!a||!s)return null;if(a===s)return e;var l=i.text?i.text.indexOf(a):null;if("number"!=typeof l||l<0)return null;var c=l+a.length;return en(en({},e),{},{endOffset:c,startOffset:l})})).filter($t.b):e}(o&&o.highlights||[],s),m=o&&o.privateNotes||null;return p.createElement(Yt.yb,null,p.createElement(zt.KN,{initialActivePrivateNoteId:r,initialActiveGrafName:n},p.createElement(Gt.Ms,{interactivePost:an(an({},i),{},{latestPublishedVersion:u}),highlights:l},p.createElement(Q.Q_,{nonBlocking:!0},(function(e){return p.createElement(qt.U7,{highlights:l,paragraphs:s,viewer:e},p.createElement(Zt.ZP,a()({},d,{highlights:l,privateNotes:m})))})))))}))}));var pn=n(9482),mn=n(90163),gn=n(50188),fn=n(47012),hn=n(55127),vn=n(56365),En=function(e){var t=e.children,n=e.rule,r=(0,Ut.Iq)(),o=n?r(n):"";return o?p.createElement("div",{className:o},t):p.createElement(p.Fragment,null,t)},bn=n(85489),yn=n(86156),xn=n(2074),Sn=n(51176),Pn=n(14267),In=n(72558),wn=n(68356),Rn=n.n(wn),On=n(19537),Tn=n(79853),Dn=n(90320);function kn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _n(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?kn(Object(n),!0).forEach((function(t){R()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):kn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var An={delay:1e3,timeout:2e4,loading:function(e){return e.error?p.createElement(Tn.Z,{error:e.error}):e.timedOut?p.createElement(Tn.Z,{error:new Error("Loadable Screen component has timed out")}):e.pastDelay?p.createElement(Dn.Z,null):null}},Cn=Rn()(_n(_n({},An),{},{loader:function(){return n.e(6635).then(n.bind(n,97980))},modules:["src/components/responses/editor/InlineResponseEditor"],webpack:function(){return[97980]},render:function(e,t){var n=e.InlineResponseEditor;return p.createElement(n,t)}})),Ln=function(e){var t=e.parentPostId,n=e.responseId,r=e.type,o=void 0===r?On.H.create:r,i=e.initialValue;return p.createElement(Cn,{parentPostId:t,responseId:n,type:o,initialValue:i})};function jn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Bn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?jn(Object(n),!0).forEach((function(t){R()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):jn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Nn={delay:1e3,timeout:2e4,loading:function(e){return e.error?p.createElement(Tn.Z,{error:e.error}):e.timedOut?p.createElement(Tn.Z,{error:new Error("Loadable Screen component has timed out")}):e.pastDelay?p.createElement(Dn.Z,null):null}},Un=Rn()(Bn(Bn({},Nn),{},{loader:function(){return n.e(6635).then(n.bind(n,51245))},modules:["src/components/responses/editor/ThreadedInlineResponseEditor"],webpack:function(){return[51245]},render:function(e,t){var n=e.ThreadedInlineResponseEditor;return p.createElement(n,t)}})),Mn=function(e){var t=e.parentPostId,n=e.responseId,r=e.type,o=void 0===r?On.H.create:r,i=e.initialValue;return p.createElement(Un,{parentPostId:t,responseId:n,type:o,initialValue:i})},Fn=function(e){var t,n,r=e.responsePost,o=e.index,i=e.parentPost,a=e.omitBottomBorder,s=Boolean((0,y.P5)("enable_lite_threaded_responses")),c=p.useState(!1),u=l()(c,2),d=u[0],m=u[1],g=p.useState(null),f=l()(g,2),h=f[0],v=f[1],E=p.useContext(Pn.D),b=E.editingResponsesAtIndices,x=E.setEditingResponsesAtIndices;return p.useEffect((function(){if(d&&!b.includes(o)&&x([].concat(et()(b),[o])),!d&&b.includes(o)){var e=b.filter((function(e){return e!==o}));x(e)}}),[d,b,x]),r?d?p.createElement(Sn.Q.Provider,{value:{isEditing:d,setIsEditing:m,latestRev:null==r?void 0:r.latestRev,createdAt:null==r?void 0:r.createdAt,setEditingQuote:v,editingQuote:h}},p.createElement($.cW,{source:{index:o},key:r.id,extendSource:!0},s?p.createElement(Mn,{type:On.H.edit,parentPostId:i.id,responseId:r.id,initialValue:null==r||null===(t=r.content)||void 0===t?void 0:t.bodyModel}):p.createElement(Ln,{type:On.H.edit,parentPostId:i.id,responseId:r.id,initialValue:null==r||null===(n=r.content)||void 0===n?void 0:n.bodyModel}))):p.createElement(Sn.Q.Provider,{value:{isEditing:d,setIsEditing:m,setEditingQuote:v,editingQuote:h}},p.createElement($.cW,{source:{index:o},key:r.id,extendSource:!0},p.createElement(In.OT,{parentPost:i,simpleResponse:r,omitBottomBorder:a}))):null},Hn={"0%":{opacity:"0.8"},"50%":{opacity:"0.5"},"100%":{opacity:"0.8"}},Vn=function(){var e=(0,Ut.om)({shimmerKeyframesName:Hn}).shimmerKeyframesName,t=(0,Ut.Iq)();return p.createElement("div",{className:t((function(){return{animation:"".concat(e," 1.2s ease-in-out infinite"),padding:"32px 0"}}))},p.createElement(F.xu,{display:"flex",flexDirection:"row"},p.createElement(F.xu,{height:"32px",width:"32px",borderRadius:"100%",backgroundColor:"BASE_NORMAL"}),p.createElement(F.xu,{marginLeft:"8px",marginTop:"4px"},p.createElement(F.xu,{height:"8px",width:"120px",marginBottom:"8px",backgroundColor:"BASE_NORMAL"}),p.createElement(F.xu,{height:"8px",width:"80px",backgroundColor:"BASE_NORMAL"}))),p.createElement(F.xu,{marginTop:"12px"},p.createElement(F.xu,{height:"10px",width:"100%",marginBottom:"8px",backgroundColor:"BASE_NORMAL"}),p.createElement(F.xu,{height:"10px",width:"100%",marginBottom:"8px",backgroundColor:"BASE_NORMAL"}),p.createElement(F.xu,{height:"10px",width:"90%",backgroundColor:"BASE_NORMAL"})))},Wn=n(15699),Qn=n(81162),zn=n(14349),Gn=n(24745),Yn=n(51151),Zn=n(26912);function qn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var $n,Kn=function(e){return{fill:e.baseColor.fill.lighter,float:"right"}},Xn=function(e){var t,n,r=e.storyResponse,o=e.parentPost,i=e.omitBottomBorder,a=(0,Ut.Iq)(),s=(0,Ut.Fg)(),l=r.creator,c=r.previewContent,u=r.mediumUrl,d=r.clapCount,m=r.responsesCount,g=null==c||null===(t=c.bodyModel)||void 0===t?void 0:t.paragraphs;if(!(l&&c&&c.bodyModel&&u&&g))return null;var f=function(e){var t,n=[],r=function(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return qn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?qn(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw i}}}}(e);try{for(r.s();!(t=r.n()).done;){var o=t.value;if(o.text&&(n.push(o),n.length>=2))break}}catch(e){r.e(e)}finally{r.f()}return{title:n[0],subtitle:n[1]}}(g);if(!f.title&&!f.subtitle)return null;var h,v=null!==(null===(n=r.inResponseToMediaResource)||void 0===n?void 0:n.mediumQuote),E=m||0;return p.createElement(Wn.Z,{post:r,presentationContext:"POST_PREVIEW",isDisplayingFullPost:!1},p.createElement(F.xu,{paddingTop:"25px",paddingBottom:"20px",borderBottom:i?void 0:"BASE_LIGHTER"},p.createElement(Gn.E,{response:r,responseType:Zn.Q.STORY,parentPost:o}),p.createElement(Yn.J,{inResponseToMediaResource:r.inResponseToMediaResource}),p.createElement(F.P3,{href:(0,Se.jV)(r)},p.createElement("div",{className:a({boxShadow:"0px 1px 4px rgba(0,0,0,0.04)",border:"1px solid rgba(0,0,0,0.1)",borderRadius:"3px",padding:"12px",marginTop:v?"12px":"16px",backgroundColor:s.backgroundColor})},p.createElement("div",{className:a(Kn)},p.createElement(be.F,{scale:"S",color:"LIGHTER",tag:"div"},p.createElement(F.xu,{display:"flex",flexGrow:"0",alignItems:"center",marginLeft:d>0||E>0?"20px":"0"},d>0?p.createElement(F.xu,{display:"flex",alignItems:"center"},p.createElement(F.xu,{tag:Qn.Z,marginRight:"2px"}),p.createElement("div",null,(0,gt.pY)(d))):null,E>0?p.createElement(F.xu,{display:"flex",alignItems:"center"},p.createElement(F.xu,{tag:zn.Z,marginLeft:d?"8px":"0",marginRight:"2px"}),p.createElement("div",null,(0,gt.pY)(E))):null))),p.createElement(be.F,{scale:"M",clamp:2,color:"DARKER"},f.title&&p.createElement(F.xu,null,f.title.text),f.subtitle&&p.createElement("div",{className:a((h=f.title.type,function(e){return{color:h===Pt.NJ.H3?e.baseColor.text.lighter:e.baseColor.text.normal}}))},f.subtitle.text))))))},Jn=n(6688),er=n(93394),tr=n(32262),nr=n(31078),rr={position:"absolute !important",right:"0",boxShadow:"0 1px 4px rgba(0, 0, 0, 0.1)",border:"1px solid rgba(0, 0, 0, 0.1)",borderRadius:"4px",zIndex:"1000",backgroundColor:"rgba(255, 255, 255, 1)",minWidth:"200px"},or=function(e){var t=e.parentPostId,n=e.responsesLocked,r=e.isPopoverMenuVisible,o=e.hidePopoverMenu,i=(0,Jn.I)(),a=(0,m.v9)((function(e){return e.config.authDomain})),s=p.useRef(null);return p.useEffect((function(){var e=function(e){var t;null!=s&&null!==(t=s.current)&&void 0!==t&&t.contains(e.target)||o()};if(r)return document.addEventListener("click",e),function(){document.removeEventListener("click",e)}}),[r]),p.createElement("div",{className:i(rr),ref:s},p.createElement(tr.mX,null,p.createElement(tr.Sl,null,p.createElement(F.rU,{href:(0,Se.t$)(a,t)},"Manage responses")),p.createElement(nr.Eq,{parentPostId:t,responsesLocked:n,hidePopoverMenu:o})))},ir=function(e){return{cursor:"pointer",border:0,fill:e.baseColor.fill.light,":hover":{fill:e.baseColor.fill.dark},":focus":{outline:"none"}}},ar=function(e){var t,n,r=e.parentPost,o=e.responsesLocked,i=(0,Jn.I)(),a=(0,Q.YC)().value,s="managementPopoverMenu",c=p.useState(!1),u=l()(c,2),d=u[0],m=u[1],g=(null==a?void 0:a.id)===(null===(t=r.creator)||void 0===t?void 0:t.id),f=null==r||null===(n=r.collection)||void 0===n?void 0:n.viewerIsEditor;return g||f?p.createElement(F.xu,null,p.createElement(F.rU,{ariaControls:s,ariaExpanded:d?"true":"false",onClick:function(e){e.nativeEvent.stopPropagation(),m(!d)},inline:!0,className:i(ir)},p.createElement(er.Z,null)),d&&p.createElement("div",{id:s,className:i({position:"relative"})},p.createElement($.cW,{source:{susiEntry:"respond_sidebar"},extendSource:!0},p.createElement(or,{parentPostId:r.id,responsesLocked:o,isPopoverMenuVisible:d,hidePopoverMenu:function(){return m(!1)}})))):null},sr=n(3149);!function(e){e.StoryResponse="StreamItemPostStoryResponse",e.SimpleResponse="StreamItemPostSimpleResponse"}($n||($n={}));var lr={height:"80vh",textAlign:"center",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",fontStyle:"italic",fontWeight:200},cr=function(e,t,n){return{backgroundColor:e&&e.id&&e.id===(t&&t.id)?n.highlightColor.light:void 0,padding:"0 24px"}},ur=function(e){var t,n,r,o=e.responses,i=e.parentPost,a=e.responsesLocked,s=e.isLockedResponse,c=e.isLoadingInitialContent,u=e.isFetchingNextSetOfResponses,d=e.isResponsesSidebarVisible,m=e.setIsResponsesSidebarVisible,g=e.inResponseToQuote,f=e.setInResponseToQuote,h=(0,Ut.Iq)(),v=(0,Ut.Fg)(),E=(0,x.xg)(),b=p.useState(!1),y=l()(b,2),S=y[0],P=y[1],I=p.useState([]),w=l()(I,2),R=w[0],O=w[1],T=i.id,D=null!=o&&o.count&&0!==(null==o?void 0:o.count)?"(".concat(null==o?void 0:o.count,")"):"",k=null==o||null===(t=o.responsesConnection)||void 0===t?void 0:t.stream,_=null==o||null===(n=o.responsesConnection)||void 0===n||null===(r=n.pagingInfo)||void 0===r?void 0:r.next,A=k&&o&&o.count&&(null==k?void 0:k.length)<(null==o?void 0:o.count)-1,C=u&&_&&A;return p.createElement(Pn.D.Provider,{value:{setIsSavingResponse:P,responsesLocked:a,isLockedResponse:s,editingResponsesAtIndices:R,setEditingResponsesAtIndices:O,inResponseToQuote:g,setInResponseToQuote:f,sidebarRef:null,responseDistribution:void 0,setResponseDistribution:function(){},rootPostId:""}},d&&S&&p.createElement(F.TF,{horizontalOverride:{left:"calc(100vw - ".concat(hr,")")}}),p.createElement(F.xu,{display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center",padding:"24px",paddingBottom:"18px"},p.createElement(be.X6,{scale:"S"},"Responses ",D),p.createElement(F.xu,{display:"flex",flexDirection:"row"},p.createElement(ar,{parentPost:i,responsesLocked:a}),p.createElement(F.xu,{position:"relative",right:"-7px"},p.createElement(sr.Z,{onClick:function(){return m(!1)},size:"REGULAR",isPositionAbsolute:!1})))),c?p.createElement(F.xu,{padding:"0 24px"},p.createElement(Vn,null)):p.createElement(p.Fragment,null,!E||d?p.createElement(Ln,{parentPostId:T}):null,o&&0!==(null==k?void 0:k.length)?p.createElement(Q.Q_,null,(function(e){return p.createElement(F.xu,null,null==k?void 0:k.map((function(t,n){var r=t.itemType.__typename,o=R.includes(n+1),a=k.length-1===n;switch(r){case $n.SimpleResponse:var s=t.itemType;return s.post?p.createElement("div",{key:s.post.id,className:h(cr(e,s.post.creator,v))},p.createElement(Fn,{responsePost:s.post,index:n,parentPost:i,omitBottomBorder:o||a})):null;case $n.StoryResponse:var l=t.itemType;return l.post?p.createElement($.cW,{source:{index:n},key:l.post.id,extendSource:!0},p.createElement("div",{className:h(cr(e,l.post.creator,v))},p.createElement(Xn,{storyResponse:l.post,parentPost:i,omitBottomBorder:o||a}))):null;default:return null}})),C&&p.createElement(Vn,null))})):p.createElement("div",{className:h(lr)},p.createElement(be.F,{scale:"L",color:"LIGHTER"},"There are currently no responses for this story."),p.createElement(be.F,{scale:"L",color:"LIGHTER"},"Be the first to respond."))))},dr=n(80637);function pr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function mr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?pr(Object(n),!0).forEach((function(t){R()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var gr,fr=function(){return{top:"0px",left:"0px",width:"100%",height:"100%",position:"fixed",backgroundColor:"rgba(0, 0, 0, 0.08)",zIndex:510,cursor:"pointer",opacity:0,transition:"opacity 0.6s cubic-bezier(0.23, 1, 0.32, 1) 0s",pointerEvents:"none"}},hr="414px",vr=function(e){return R()({width:hr,position:"fixed",zIndex:520,backgroundColor:"white",left:"100%",top:"0px",height:"100%",boxSizing:"border-box",overflow:"auto","-ms-overflow-style":"-ms-autohiding-scrollbar",boxShadow:"rgba(0, 0, 0, 0.15) 0px 4px 12px",opacity:1,transform:"translateX(0px)",transition:"transform 0.6s cubic-bezier(0.23, 1, 0.32, 1) 0s, opacity 0.6s cubic-bezier(0.23, 1, 0.32, 1) 0s"},(0,dr.sm)(e),{left:0,width:"100%",borderTopLeftRadius:"20px",borderTopRightRadius:"20px",transform:"translateY(100%)","-webkit-overflow-scrolling":"touch"})},Er=function(e,t){return function(n){if(e){var r=n.breakpoints.md-.02;return t<=r?{transform:"translateY(30px) !important"}:{transform:"translateX(-415px)"}}return{}}},br=function(e){return e?{opacity:1,pointerEvents:"all"}:{}},yr=function(e){var t,n,r,o,i,a=e.setIsResponsesSidebarVisible,s=e.isResponsesSidebarVisible,c=e.inResponseToQuote,u=e.setInResponseToQuote,d=e.parentPost,m=(0,z.Uo)().baseTheme,g=(0,Ut.Iq)(),h=(0,x.xg)(),v=(0,f.useLazyQuery)(xn.gl,{variables:{postId:d.id,postResponsesPaging:{limit:10}},ssr:!1}),E=l()(v,2),b=E[0],y=E[1],S=y.called,P=y.loading,I=y.data,w=y.fetchMore;S||h&&!s||b();var R,O=null==I||null===(t=I.post)||void 0===t?void 0:t.responsesLocked,T=null==I||null===(n=I.post)||void 0===n?void 0:n.isLockedResponse,D=null==I||null===(r=I.post)||void 0===r?void 0:r.postResponses,k=p.useState(0),_=l()(k,2),A=_[0],C=_[1],L=p.useState(!1),j=l()(L,2),B=j[0],N=j[1];p.useEffect((function(){A||C(window.innerWidth)}),[]);var U=null==D||null===(o=D.responsesConnection)||void 0===o||null===(i=o.pagingInfo)||void 0===i?void 0:i.next;if(U){var M={postId:d.id,postResponsesPaging:{limit:U.limit,to:U.to}};R=function(){w&&w({variables:M,updateQuery:function(e,t){var n=t.fetchMoreResult;return N(!1),Sr(e,n)}})}}return p.createElement(F.f6,{theme:m},p.createElement($.cW,{source:{name:"responses",postId:d.id},extendSource:!0},p.createElement(F.xu,{print:{display:"none"}},p.createElement("div",{className:g([fr,br(s)]),onClick:function(){a(!1)},"aria-hidden":!s}),p.createElement("div",{className:g([vr,Er(s,A)]),"aria-hidden":!s,onScroll:function(e){return xr(e,U,B,N,R)}},p.createElement(ur,{responses:D,parentPost:d,responsesLocked:O,isLockedResponse:T,isLoadingInitialContent:P,isFetchingNextSetOfResponses:B,isResponsesSidebarVisible:s,setIsResponsesSidebarVisible:a,inResponseToQuote:c,setInResponseToQuote:u})))))},xr=function(e,t,n,r,o){e.preventDefault();var i=e.currentTarget;i.scrollHeight-i.scrollTop-i.clientHeight<1.5*i.clientHeight&&t&&!n&&(r(!0),o())},Sr=function(e,t){var n,r,o,i,a,s,l,c,u=null==t||null===(n=t.post)||void 0===n?void 0:n.postResponses,d=null==t?void 0:t.post;if(!d||!u||null===(r=u.responsesConnection)||void 0===r||!r.stream)return e;var p=(null==e||null===(o=e.post)||void 0===o||null===(i=o.postResponses)||void 0===i||null===(a=i.responsesConnection)||void 0===a?void 0:a.stream)||[],m=(null==t||null===(s=t.post)||void 0===s||null===(l=s.postResponses)||void 0===l||null===(c=l.responsesConnection)||void 0===c?void 0:c.stream)||[];return{post:mr(mr({},d),{},{postResponses:mr(mr({},u),{},{responsesConnection:mr(mr({},u.responsesConnection),{},{stream:[].concat(et()(p),et()(m))})})})}},Pr=n(23450),Ir=n.n(Pr),wr=n(26600),Rr=n(78067),Or=n(54260),Tr=n(47076),Dr=n(22091);function kr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _r(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?kr(Object(n),!0).forEach((function(t){R()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):kr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}!function(e){e[e.LEGACY=1]="LEGACY",e[e.STORY=2]="STORY",e[e.SIMPLE=3]="SIMPLE"}(gr||(gr={}));var Ar=function(e,t){return{marginBottom:t?"0px":"24px",marginLeft:"12px",borderLeft:"3px solid ".concat(e.baseColor.border.lighter)}},Cr=function(e,t){var n,r,o,i,a,s,l=null==t||null===(n=t.post)||void 0===n?void 0:n.threadedPostResponses,c=null==t?void 0:t.post,u=null==t||null===(r=t.post)||void 0===r?void 0:r.threadedPostResponses;if(!(c&&l&&l.posts&&u))return e;var d=(null==e||null===(o=e.post)||void 0===o||null===(i=o.threadedPostResponses)||void 0===i?void 0:i.posts)||[],p=(null==t||null===(a=t.post)||void 0===a||null===(s=a.threadedPostResponses)||void 0===s?void 0:s.posts)||[];return{post:_r(_r({},c),{},{threadedPostResponses:_r(_r({},u),{},{posts:[].concat(et()(d),et()(p))})})}},Lr=function(e){var t,n,r,o=e.replies,i=e.parentPost,a=e.inResponseToPostId,s=e.threadDepthFromRootPost,l=e.threadDepthOnPage,c=void 0===l?1:l,u=e.displayBottomBorder,d=void 0!==u&&u,m=e.isShowAutoExpandedResponse,g=void 0!==m&&m,f=e.autoExpandedResponseIds,h=void 0===f?[]:f;return null!=o&&o.posts&&0!==(null==o||null===(t=o.posts)||void 0===t?void 0:t.length)?p.createElement(Dr.xu,null,g?null==o||null===(n=o.posts)||void 0===n?void 0:n.map((function(e,t){return e&&h.some((function(t){return t===e.id}))?p.createElement(jr,{reply:e,parentPost:i,bottomBorder:d,index:t,inResponseToPostId:a,key:e.id,threadDepthFromRootPost:s,threadDepthOnPage:c}):null})):null==o||null===(r=o.posts)||void 0===r?void 0:r.map((function(e,t,n){if(!e)return null;var r=t!==n.length-1||d;return p.createElement(jr,{reply:e,parentPost:i,bottomBorder:r,index:t,inResponseToPostId:a,key:e.id,threadDepthFromRootPost:s,threadDepthOnPage:c})}))):null},jr=function(e){var t,n,r,o,i,a,s=e.reply,c=e.parentPost,u=e.bottomBorder,d=e.index,m=e.inResponseToPostId,g=e.threadDepthOnPage,h=void 0===g?1:g,v=e.threadDepthFromRootPost,E=(0,Ut.Iq)(),b=(0,Ut.Fg)(),y=(0,$.pK)(),x=(0,q.Av)(),S=null!==(t=s.threadedPostResponses)&&void 0!==t&&t.autoExpandedPostIds?et()(s.threadedPostResponses.autoExpandedPostIds):[],P=p.useState(Boolean(S.length)),I=l()(P,2),w=I[0],R=I[1],O=p.useContext(Pn.D),T=O.responsesLocked,D=O.isLockedResponse,k=O.inResponseToQuote,_=O.setInResponseToQuote,A=O.setIsSavingResponse,C=O.sidebarRef,L=O.responseDistribution,j=O.setResponseDistribution,B=O.rootPostId,N=p.useState([]),U=l()(N,2),M=U[0],F=U[1],H=p.useRef(null),V=null===(n=s.creator)||void 0===n?void 0:n.name;V&&(a="Replying to ".concat(V));var W=(0,f.useLazyQuery)(xn.Ag,{variables:{postId:s.id,postResponsesPaging:{limit:10}},ssr:!1}),Q=l()(W,2),z=Q[0],G=Q[1],Y=G.called,Z=G.data,K=G.loading,X=G.fetchMore;p.useEffect((function(){var e;null!=H&&null!==(e=H.current)&&void 0!==e&&e.getBoundingClientRect&&H.current.getBoundingClientRect().bottom>window.innerHeight&&H.current.scrollIntoView({behavior:"smooth",block:"end"})}),[]);var J=null==Z||null===(r=Z.post)||void 0===r?void 0:r.threadedPostResponses;w&&!Y&&z();var ee,te=(null==J?void 0:J.posts)||[],ne=(null===(o=s.postResponses)||void 0===o?void 0:o.count)||0,re=function(e,t,n,r){var o=t.length,i=n.length;return o&&e?r-o:i?r-i:0}(w,S,te,ne),oe=re>0,ie=null==J||null===(i=J.pagingInfo)||void 0===i?void 0:i.next;return ie&&(ee=function(){X&&X({variables:{postId:s.id,postResponsesPaging:{limit:ie.limit,to:ie.to}},updateQuery:function(e,t){var n=t.fetchMoreResult;return Cr(e,n)}})}),p.createElement(Dr.Bn,{initialVisibility:w},(function(e){var t=e.isVisible,n=e.toggle,r=e.show;return p.createElement(Dr.Bn,null,(function(e){var o,i=e.isVisible,l=e.hide,g=e.toggle;return p.createElement(Dr.xu,{borderBottom:u?"BASE_LIGHTER":"NONE",margin:"0 24px"},p.createElement(Or.H.Provider,{value:{inResponseToPostId:m,isThreadedResponsesVisible:t,toggleThreadedResponses:function(){Y||(z(),x.event("response.expanded",{postId:s.id,parentPostId:m,rootPostId:B,threadDepth:v,context:Rr.r.INLINE_POST_RESPONSE,source:y})),R(!1),n()},showThreadedResponses:function(){Y||(z(),x.event("response.expanded",{postId:s.id,parentPostId:m,rootPostId:B,threadDepth:v,context:Rr.r.INLINE_POST_RESPONSE,source:y})),R(!1),r()},threadDepthFromRootPost:v,threadDepthOnPage:h,hideCreateReply:l,toggleCreateReply:g,loadThreadedResponses:z,isThreadedResponsesQueryCalled:Y,isThreadedResponsesQueryLoading:K}},p.createElement("div",{ref:0===d?H:void 0},function(e){switch(e.inResponseToType){case gr.STORY:case gr.LEGACY:return e.content.bodyModel.paragraphs.every((function(e){return e.type===Pt.NJ.P&&0===e.markups.length}));default:return!0}}(s)?p.createElement(Fn,{responsePost:s,index:d,parentPost:c,omitBottomBorder:!0}):p.createElement($.cW,{source:{index:d},key:s.id,extendSource:!0},p.createElement(Xn,{storyResponse:s,parentPost:c,omitBottomBorder:!0}))),i&&p.createElement("div",{className:E(Ar(b,t))},p.createElement($.cW,{source:{susiEntry:"respond_sidebar"},extendSource:!0},p.createElement(wr.z,null,p.createElement(Tr.Z,{parentPostId:s.id,hideReplyEditing:l,placeholder:a,showEditorHeader:!1}))))),t&&p.createElement("div",{className:E(Ar(b,oe))},K&&p.createElement(Dr.xu,{marginLeft:"24px"},p.createElement(Vn,null)),(null==J?void 0:J.posts)&&(null==J||null===(o=J.posts)||void 0===o?void 0:o.length)>0&&p.createElement(Pn.D.Provider,{value:{setIsSavingResponse:A,responsesLocked:T,isLockedResponse:D,editingResponsesAtIndices:M,setEditingResponsesAtIndices:F,inResponseToQuote:k,setInResponseToQuote:_,sidebarRef:C,responseDistribution:L,setResponseDistribution:j,rootPostId:B}},p.createElement(Lr,{replies:J,parentPost:c,inResponseToPostId:s.id,threadDepthOnPage:h+1,threadDepthFromRootPost:v+1,isShowAutoExpandedResponse:w,autoExpandedResponseIds:S}))),oe&&(t||w)&&p.createElement(Dr.xu,{marginTop:"10px",marginLeft:"24px",marginBottom:"24px"},p.createElement(be.F,{color:"ACCENT",scale:"M"},p.createElement(Dr.rU,{linkStyle:"OBVIOUS",onClick:function(){w?(R(!1),r()):ee()}},function(e,t){return e?"Show ".concat(t," more ").concat(Ir()("reply",t)):"Load more replies (".concat(t,")")}(w,re)))))}))}))},Br=n(33914);function Nr(){return(Nr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var Ur=p.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M11.99 5.04c.26-.21.64-.22.91-.01.97.72 1.77 1.21 2.6 1.54.83.32 1.72.48 2.89.5.41.01.74.35.74.76-.02 3.62-.43 6.26-1.45 8.21-1.03 1.98-2.66 3.21-4.97 4.08a.75.75 0 0 1-.53 0c-2.25-.87-3.86-2.1-4.9-4.07-1.02-1.95-1.46-4.59-1.48-8.22 0-.41.33-.75.75-.76 1.19-.02 2.1-.18 2.92-.5.82-.32 1.6-.81 2.52-1.53zm.46.9c-.9.69-1.71 1.21-2.62 1.56a8.9 8.9 0 0 1-3.02.57c.03 3.45.46 5.82 1.36 7.51.88 1.69 2.25 2.77 4.28 3.57 2.1-.8 3.47-1.89 4.34-3.57.89-1.7 1.3-4.07 1.34-7.51a8.8 8.8 0 0 1-3-.57 11.8 11.8 0 0 1-2.68-1.56zm0 9.15a2.67 2.67 0 1 0 0-5.34 2.67 2.67 0 0 0 0 5.34zm0 1a3.67 3.67 0 1 0 0-7.34 3.67 3.67 0 0 0 0 7.34zm-1.82-3.77l.53-.53.91.92 1.63-1.63.52.53-2.15 2.15-1.44-1.44z"});const Mr=function(e){return p.createElement("svg",Nr({width:25,height:25,viewBox:"0 0 25 25"},e),Ur)};var Fr=function(){var e=(0,Ut.Iq)();return p.createElement(Br._,{tooltipText:"View community guidelines"},p.createElement(F.rU,{href:"https://policy.medium.com/medium-rules-30e5502c4eb4",target:"_blank",className:e((function(e){return{fill:e.baseColor.fill.light,":hover":{fill:e.baseColor.fill.dark}}}))},p.createElement(Mr,null)))},Hr={height:"80vh",textAlign:"center",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",fontStyle:"italic",fontWeight:200},Vr=function(e){var t,n,r,o=e.responses,i=e.parentPost,a=e.responsesLocked,s=e.isLockedResponse,c=e.isLoadingInitialContent,u=e.isFetchingNextSetOfResponses,d=e.isResponsesSidebarVisible,m=e.setIsResponsesSidebarVisible,g=e.inResponseToQuote,f=e.setInResponseToQuote,h=e.sidebarRef,v=e.responseDistribution,E=e.setResponseDistribution,b=e.rootPostId,y=e.postDepth,S=(0,Ut.Iq)(),P=(0,x.xg)(),I=p.useState(!1),w=l()(I,2),R=w[0],O=w[1],T=p.useState([]),D=l()(T,2),k=D[0],_=D[1],A=i.id,C=(null===(t=i.postResponses)||void 0===t?void 0:t.count)||0,L=0!==C?"(".concat(C,")"):"",j=o,B=null==o||null===(n=o.pagingInfo)||void 0===n?void 0:n.next,N=(null==o?void 0:o.posts)&&C&&o.posts.length<C,U=Boolean(u&&B&&N);return p.createElement(Pn.D.Provider,{value:{setIsSavingResponse:O,responsesLocked:a,isLockedResponse:s,editingResponsesAtIndices:k,setEditingResponsesAtIndices:_,inResponseToQuote:g,setInResponseToQuote:f,sidebarRef:h,responseDistribution:v,setResponseDistribution:E,rootPostId:b}},d&&R&&p.createElement(F.TF,{horizontalOverride:{left:"calc(100vw - ".concat(hr,")")}}),p.createElement(F.xu,{display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center",padding:"24px",paddingBottom:"18px"},p.createElement(be.X6,{scale:"S"},"Responses ",L),p.createElement(F.xu,{display:"flex",flexDirection:"row"},p.createElement(Fr,null),p.createElement(ar,{parentPost:i,responsesLocked:a}),p.createElement(F.xu,{position:"relative",right:"-7px"},p.createElement(sr.Z,{onClick:function(){E(Pt.Et.NOT_DISTRIBUTED),m(!1)},size:"REGULAR",isPositionAbsolute:!1})))),c?p.createElement(F.xu,{padding:"0 24px"},p.createElement(Vn,null)):p.createElement(p.Fragment,null,!P||d?p.createElement(Mn,{parentPostId:A}):null,o&&0!==(null==j||null===(r=j.posts)||void 0===r?void 0:r.length)?p.createElement(F.xu,null,p.createElement(Lr,{replies:o,inResponseToPostId:i.id,parentPost:i,displayBottomBorder:U,threadDepthFromRootPost:y+1}),U&&p.createElement(F.xu,{margin:"0 24px"},p.createElement(Vn,null))):p.createElement("div",{className:S(Hr)},p.createElement(be.F,{scale:"L",color:"LIGHTER"},"There are currently no responses for this story."),p.createElement(be.F,{scale:"L",color:"LIGHTER"},"Be the first to respond."))))},Wr=function(){return{top:"0px",left:"0px",width:"100%",height:"100%",position:"fixed",backgroundColor:"rgba(0, 0, 0, 0.08)",zIndex:510,cursor:"pointer",opacity:0,transition:"opacity 0.6s cubic-bezier(0.23, 1, 0.32, 1) 0s",pointerEvents:"none"}},Qr=function(e){return function(t){var n=R()({width:"414px",position:"fixed",zIndex:520,backgroundColor:"white",left:"100%",top:"0px",height:"100%",boxSizing:"border-box",overflow:"auto","-ms-overflow-style":"-ms-autohiding-scrollbar",boxShadow:"rgba(0, 0, 0, 0.15) 0px 4px 12px",opacity:1,transform:"translateX(0px)",transition:"transform 0.6s cubic-bezier(0.23, 1, 0.32, 1) 0s, opacity 0.6s cubic-bezier(0.23, 1, 0.32, 1) 0s"},(0,dr.sm)(t),{left:0,width:"100%",borderTopLeftRadius:"20px",borderTopRightRadius:"20px",transform:"translateY(100%)","-webkit-overflow-scrolling":"touch"});return e||(n.display="none"),n}},zr=function(e,t){return function(n){if(e){var r=n.breakpoints.md-.02;return t<=r?{transform:"translateY(30px) !important"}:{transform:"translateX(-415px)"}}return{}}},Gr=function(e){return e?{opacity:1,pointerEvents:"all"}:{}},Yr=function(e){var t,n,r,o,i,a,s,c,u,d=e.setIsResponsesSidebarVisible,m=e.isResponsesSidebarVisible,g=e.inResponseToQuote,h=e.setInResponseToQuote,v=e.parentPost,E=(0,Ut.Iq)(),b=(0,x.xg)(),y=p.useRef(null),S=(0,f.useLazyQuery)(xn.Ag,{variables:{postId:v.id,postResponsesPaging:{limit:10}},ssr:!1}),P=l()(S,2),I=P[0],w=P[1],R=w.called,O=w.loading,T=w.data,D=w.fetchMore;R||b&&!m||I();var k,_=null==T||null===(t=T.post)||void 0===t?void 0:t.responsesLocked,A=null==T||null===(n=T.post)||void 0===n?void 0:n.isLockedResponse,C=null==T||null===(r=T.post)||void 0===r?void 0:r.threadedPostResponses,L=(null==T||null===(o=T.post)||void 0===o||null===(i=o.responseRootPost)||void 0===i||null===(a=i.post)||void 0===a?void 0:a.id)||"",j=(null==T||null===(s=T.post)||void 0===s||null===(c=s.responseRootPost)||void 0===c?void 0:c.responseDepth)||0,B=p.useState(0),N=l()(B,2),U=N[0],M=N[1],H=p.useState(!1),V=l()(H,2),W=V[0],Q=V[1],G=p.useState(Pt.Et.NOT_DISTRIBUTED),Y=l()(G,2),Z=Y[0],q=Y[1];p.useEffect((function(){U||M(window.innerWidth)}),[]);var K=null==C||null===(u=C.pagingInfo)||void 0===u?void 0:u.next;return K&&(k=function(){D&&D({variables:{postId:v.id,postResponsesPaging:{limit:K.limit,to:K.to}},updateQuery:function(e,t){var n=t.fetchMoreResult;return Q(!1),Cr(e,n)}})}),p.createElement(z.N8,null,p.createElement($.cW,{source:{name:"responses",postId:v.id},extendSource:!0},p.createElement(F.xu,{print:{display:"none"}},p.createElement("div",{className:E([Wr,Gr(m)]),onClick:function(){d(!1),q(Pt.Et.NOT_DISTRIBUTED)},"aria-hidden":!m}),p.createElement("div",{className:E([Qr(m),zr(m,U)]),"aria-hidden":!m,onScroll:function(e){return Zr(e,K,W,Q,k)},ref:y},p.createElement(Vr,{responses:C,parentPost:v,responsesLocked:_,isLockedResponse:A,isLoadingInitialContent:O,isFetchingNextSetOfResponses:W,isResponsesSidebarVisible:m,setIsResponsesSidebarVisible:d,inResponseToQuote:g,setInResponseToQuote:h,sidebarRef:y,responseDistribution:Z,setResponseDistribution:q,rootPostId:L,postDepth:j})))))},Zr=function(e,t,n,r,o){e.preventDefault();var i=e.currentTarget;i.scrollHeight-i.scrollTop-i.clientHeight<1.5*i.clientHeight&&t&&!n&&(r(!0),o())},qr=function(e){var t=e.children,n=e.post,r=Boolean((0,y.P5)("enable_lite_threaded_responses")),o=(0,pe.dF)(),i=p.useState(!1),a=l()(i,2),s=a[0],c=a[1],u=p.useState(void 0),d=l()(u,2),m=d[0],g=d[1],f=p.useState(!1),h=l()(f,2),v=h[0],E=h[1];return p.useEffect((function(){E(!0),c(o)}),[o]),p.createElement(yn.f.Provider,{value:{openSidebarToRespondToHighlight:function(e){g(e),c(!0)}}},v&&(r?p.createElement(Yr,{isResponsesSidebarVisible:s,setIsResponsesSidebarVisible:c,parentPost:n,inResponseToQuote:m,setInResponseToQuote:g}):p.createElement(yr,{isResponsesSidebarVisible:s,setIsResponsesSidebarVisible:c,parentPost:n,inResponseToQuote:m,setInResponseToQuote:g})),t({show:function(){return c(!0)}}))};function $r(){return($r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var Kr=p.createElement("path",{fill:"#fff",d:"M0 0h49v57H0z"}),Xr=p.createElement("path",{d:"M45.95 17.53v-.04l-.05-1.55a5.32 5.32 0 0 0-5.04-5.17c-5.8-.32-10.3-2.2-14.13-5.89l-.03-.03a3.26 3.26 0 0 0-4.4 0l-.03.03c-3.84 3.7-8.33 5.57-14.13 5.89-2.79.15-5 2.42-5.04 5.18l-.05 1.54v.1c-.11 5.84-.25 13.12 2.21 19.73 1.36 3.63 3.41 6.79 6.1 9.38 3.07 2.96 7.09 5.3 11.94 6.98a3.74 3.74 0 0 0 2.4 0c4.85-1.68 8.86-4.03 11.93-6.98 2.69-2.6 4.74-5.76 6.1-9.39 2.47-6.63 2.33-13.92 2.22-19.78zm-5 18.77c-2.6 6.96-7.9 11.74-16.23 14.62a.67.67 0 0 1-.45 0c-8.32-2.87-13.63-7.65-16.23-14.61-2.27-6.1-2.14-12.78-2.03-18.67v-.03c.03-.5.04-1.04.05-1.62.02-1.22 1-2.23 2.24-2.3 3.29-.18 6.17-.81 8.83-1.92 2.64-1.1 5-2.67 7.19-4.77.1-.1.25-.1.36 0a23.11 23.11 0 0 0 7.2 4.77 26.27 26.27 0 0 0 8.82 1.92 2.36 2.36 0 0 1 2.24 2.3c0 .58.02 1.12.05 1.62.11 5.9.24 12.59-2.04 18.69z",fill:"#757575"}),Jr=p.createElement("path",{d:"M24.5 17.76c-7.11 0-12.9 5.4-12.9 12.04 0 6.64 5.79 12.04 12.9 12.04s12.9-5.4 12.9-12.04c0-6.64-5.79-12.04-12.9-12.04zm0 21.25c-5.44 0-9.86-4.13-9.86-9.2 0-5.08 4.42-9.21 9.86-9.21 5.44 0 9.86 4.13 9.86 9.2 0 5.08-4.42 9.2-9.86 9.2z",fill:"#757575"}),eo=p.createElement("path",{d:"M28.08 25.1l-5.64 6.12-1.53-1.66c-.56-.6-1.46-.6-2.02 0-.55.6-.55 1.59 0 2.2l2.54 2.75c.28.3.65.45 1.01.45.37 0 .73-.15 1.01-.45l6.65-7.22c.55-.6.55-1.59 0-2.2-.56-.6-1.47-.6-2.02 0z",fill:"#757575"});const to=function(e){return p.createElement("svg",$r({width:49,height:57,viewBox:"0 0 49 57",fill:"none"},e),Kr,Xr,Jr,eo)};var no=(0,m.$j)()((function(e){var t=e.dispatch,n=e.isVisible,r=e.hide,o="limitedStateInterstitialDialogPopover";return p.createElement(F.Vq,{isVisible:n,hide:r,withCloseButton:!1,customBackgroundColor:"rgba(255, 255, 255, 0.94)"},p.createElement(F.xu,{display:"flex",justifyContent:"center",paddingTop:"100px"},p.createElement(F.xu,{height:"550px",width:"900px",background:H.ix,borderRadius:"4px",display:"flex",flexDirection:"column",justifyContent:"center",textAlign:"center",boxShadow:"0 2px 10px ".concat((0,H.Uy)(.15)),paddingBottom:"14px",md:{width:"600px",height:"auto",padding:"14px 8px"},sm:{width:"95vw !important",padding:"14px 8px"}},p.createElement(F.xu,{display:"flex",flexDirection:"column",justifyContent:"center",height:"100%"},p.createElement(F.xu,{paddingBottom:"24px"},p.createElement(to,null)),p.createElement(F.xu,{paddingBottom:"24px",paddingRight:"24px",paddingLeft:"24px"},p.createElement(be.X6,{scale:"L"},"The following content was reported as a potential violation of Medium’s rules and is under investigation.")),p.createElement(F.xu,{padding:"0 0 24px 0"},p.createElement(F.zx,{buttonStyle:"BRAND",size:"REGULAR",onClick:function(){r(),t((0,ae.Dx)({duration:"FOREVER",message:"",toastStyle:"LIMITED_STATE_BANNER"}))}},"I understand and want to proceed anyway"),p.createElement(F.Bn,null,(function(e){var t=e.isVisible,n=e.toggle,r=e.hide;return p.createElement(F.J2,{ariaId:o,isVisible:t,hide:r,display:"block",customZIndex:800,popoverRenderFn:function(){return p.createElement(F.xu,{padding:"15px 20px",width:"400px"},p.createElement(be.F,{scale:"S"},"Anyone can publish on Medium, provided the content adheres to Medium’s rules and policies. When Medium is made aware of potential violations, the content is manually evaluated and appropriate action taken. Some features may be disabled while the content is under review."))},placement:"top",targetDistance:15},p.createElement(F.xu,{paddingTop:"10px"},p.createElement(F.rU,{ariaControls:o,ariaExpanded:t?"true":"false",onClick:n},p.createElement("u",null,p.createElement(be.F,{scale:"S"},"Why am I seeing this?")))))})))),p.createElement(F.xu,{display:"flex",justifyContent:"center"},p.createElement(be.F,{scale:"M"},"View our"," ",p.createElement(F.rU,{href:"https://medium.com/policy/medium-rules-30e5502c4eb4",linkStyle:"OBVIOUS",inline:!0},"Rules,")," ",p.createElement(F.rU,{href:"https://medium.com/policy/medium-terms-of-service-9db0094a1e0f",linkStyle:"OBVIOUS",inline:!0},"Terms of Service")," ","&"," ",p.createElement(F.rU,{href:"https://medium.com/policy/medium-partner-program-terms-fcfe9cf777b8",linkStyle:"OBVIOUS",inline:!0},"Partner Program Terms"))))))}));function ro(){var e=o()(["\n  fragment LimitedStateInterstitial_post on Post {\n    creator {\n      id\n    }\n    isLimitedState\n  }\n"]);return ro=function(){return e},e}var oo=function(e){return function(){return{filter:e?"blur(10px)":"blur(0)"}}};function io(e){var t=e.post,n=t.creator,r=t.isLimitedState,o=e.viewerId,i=e.children,a=(0,Ut.Iq)(),s=p.useState(!1),c=l()(s,2),u=c[0],d=c[1];return p.useEffect((function(){d(!0)}),[]),r&&(n&&n.id)!==o?p.createElement(F.Bn,{initialVisibility:!0},(function(e){var t=e.isVisible,n=e.hide;return p.createElement(p.Fragment,null,p.createElement("div",{className:a(oo(t))},i),u&&p.createElement(no,{isVisible:t,hide:n}))})):i}var ao=(0,c.Ps)(ro()),so=n(85714),lo=function(e){var t=e.children,n=e.onClose,r=p.useRef(null),o=p.useContext(g.u6).updateWatchedBounds;return p.createElement(F.Bn,{initialVisibility:!0},(function(e){var i=e.isVisible,a=e.hide;return i&&p.createElement(F.xu,{backgroundColor:"BASE_LIGHT",borderBottom:"BASE_LIGHTER",borderTop:"BASE_LIGHTER"},p.createElement(F.Pm,null,p.createElement(F.xu,{display:"flex",justifyContent:"space-between",paddingBottom:"20px",paddingTop:"20px"},t,p.createElement(F.PZ,{onClick:function(){n&&n(),o("byline",r,{type:"header"}),a()},isPositionAbsolute:!1,size:"REGULAR"}))))}))},co=n(98281),uo=n(81591),po=n(69332),mo="alternate_user_top_banner",go=function(e){var t=e.userSocialLogins,n=(0,Ae.j)().openModal;return t.facebook||t.google||t.twitter?p.createElement(ie,{userSocialLogins:t}):p.createElement(ee,{onSuccess:function(){return n({step:"CHECK_YOUR_INBOX",operation:"login",susiEntry:mo})},userId:t.userId},(function(e){var t=e.handleSubmit;return p.createElement(F.zx,{buttonStyle:"SOCIAL",size:"REGULAR",onClick:t},"Send login link")}))},fo=function(){var e=(0,Q.YC)().value,t=(0,Q.rZ)().viewerId,n=(0,m.I0)(),r=(0,q.Av)(),o=p.useState(!1),i=l()(o,2),a=i[0],s=i[1],c=p.useState("loading"),u=l()(c,2),d=u[0],g=u[1];return p.useEffect((function(){n((0,po.e6)(!0)),s(!0)}),[]),p.useEffect((function(){"rendered"===d&&n((0,uo.T)(!0)),"not_eligible"===d&&n((0,po.e6)(!1))}),[d]),p.createElement($.cW,{source:{susiEntry:mo}},p.createElement(he,{postRenderCallback:function(e,n,o){g(n?"rendered":"not_eligible"),n&&(r.event("experiment.eligible",{experimentId:"358323e239a2"}),r.event("alternateUserBanner.viewed",{alternateUserSuggestionAccountType:de(o),alternateUserSuggestionTargetUserId:o.userId,alternateUserSuggestionSourceUserId:t}))}},(function(n){var o,i=n.showSuggestedAccount,s=n.declineSuggestedAccount,l=n.userSocialLogins;return a&&i&&s&&l?p.createElement(z.N8,null,p.createElement(lo,{onClose:function(){return r.event("alternateUserBanner.dismissed",{alternateUserSuggestionAccountType:de(l),alternateUserSuggestionTargetUserId:l.userId,alternateUserSuggestionSourceUserId:t})}},p.createElement(F.xu,{alignItems:"flex-start",display:"flex",flexDirection:"column",sm:{alignItems:"center"}},p.createElement(F.xu,{alignItems:"center",display:"flex",marginBottom:"21px",sm:{flexDirection:"column",margin:"0 21px 21px",textAlign:"center"}},!e&&(null===(o=l.userAvatar)||void 0===o?void 0:o.imageId)&&p.createElement(F.xu,{display:"flex",marginRight:"20px",sm:{marginBottom:"18px",marginRight:"0"}},p.createElement(co.ZP,{scale:"S",user:l.userAvatar})),p.createElement(W.W,{featureString:"alternate-user-top-banner",target:"header"},p.createElement(be.F,{color:"DARKER",scale:"M"},function(e,t){var n=t.isMember,r=t.redactedEmailAddress;return p.createElement(p.Fragment,null,e?"Switch":"Sign in"," to your ",n?"member ":"","account (",p.createElement("b",null,r),") for",n?" unlimited access":" your personalized experience",".")}(e,l)))),p.createElement(F.xu,{alignItems:"center",display:"flex",sm:{flexDirection:"column"}},p.createElement(go,{userSocialLogins:l}),p.createElement(F.xu,{margin:"0 12px",sm:{margin:"24px 0 0"}},p.createElement(le,{declineSuggestedAccount:s,isSocial:!!(l.facebook||l.google||l.twitter)})))))):p.createElement(p.Fragment,null)})))},ho=n(87757),vo=n.n(ho),Eo=n(48926),bo=n.n(Eo),yo=n(6522),xo="signin_confirmation_banner",So=function(){var e=(0,q.Av)(),t=(0,Ae.j)().openModal,n=p.useState(!1),r=l()(n,2),o=r[0],i=r[1],a=p.useState(!1),s=l()(a,2),c=s[0],u=s[1],d=p.useState(!0),g=l()(d,2),f=g[0],h=g[1],v=(0,Q.YC)().value,E=(0,m.v9)((function(e){return{xsrf:e.session.xsrf}}),m.wU).xsrf,b=(0,pe.PM)(),y=(0,ce.P7)(b||"").name;return p.useEffect((function(){return i(!0)}),[]),p.useEffect((function(){o&&v&&(e.event("experiment.eligible",{experimentId:"b4152480e71c"}),function(){var e=bo()(vo().mark((function e(){var t;return vo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,K.vA)(null==v?void 0:v.id,E);case 2:t=e.sent,h(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()(),(0,K.oy)(v.id,E))}),[o]),p.useEffect((function(){c&&e.event("signInConfirmationBanner.viewed",{})}),[c]),!o||!v||!y||"login"!==y||!v.createdAt||Date.now()-v.createdAt<=5*yo.uD||f?null:(c||u(!0),p.createElement($.cW,{source:{susiEntry:xo},extendSource:!0},p.createElement(z.N8,null,p.createElement(lo,{onClose:function(){return e.event("signInConfirmationBanner.dismissed",{})}},p.createElement(F.xu,{display:"flex",alignItems:"center"},p.createElement(F.xu,{display:"none",marginRight:"20px",sm:{display:"flex"}},p.createElement(co.ZP,{scale:"S",user:v})),p.createElement(be.F,{color:"DARKER",scale:"M"},p.createElement(W.W,{featureString:"confirm-sign-in-banner",target:"header",tag:"span"},"Welcome back. You are signed"," ",v.mediumMemberAt?"into your member account ":"in as ",p.createElement("b",null,v.email),"."," "),p.createElement(F.rU,{onClick:function(){e.event("signInConfirmationBanner.notYouClicked",{}),t({operation:"login",step:"SIGNIN_OPTIONS",susiEntry:xo})},linkStyle:"OBVIOUS"},"Not you?")))))))},Po=n(93874),Io=n(31517),wo=n(172);function Ro(e){var t={__html:'<script type="application/json">'.concat(T()(e.json,{isJSON:!0}),"<\/script>")};return p.createElement("amp-analytics",{id:"medium-analytics",dangerouslySetInnerHTML:t})}function Oo(){var e={__html:'<script type="application/json">'.concat(T()({vars:{apikey:"medium.com"}},{isJSON:!0}),"<\/script>")};return p.createElement("amp-analytics",{type:"parsely",id:"parsely-amp-analytics",dangerouslySetInnerHTML:e})}var To=n(30389),Do=n(27140),ko=n(77455),_o=n(65441);function Ao(){var e=o()(["\n  fragment PostScreen_post on Post {\n    id\n    canonicalUrl\n    collection {\n      id\n      domain\n      googleAnalyticsId\n      slug\n      ...CollectionMetabar_collection\n      ...MetaHeader_publisher\n      ...auroraHooks_publisher\n    }\n    # please note that the postMeteringOptions are defined in the postHandler file\n    content(postMeteringOptions: $postMeteringOptions) {\n      isLockedPreviewOnly\n      validatedShareKey\n      isCacheableContent\n    }\n    creator {\n      isFollowing\n      viewerIsUser\n      ...SuspendedBannerLoader_user\n      ...MetaHeader_publisher\n      ...UserSubdomainFlow_user\n      ...auroraHooks_publisher\n      ...TruncatedPostCard_user\n    }\n    customStyleSheet {\n      id\n      postBody {\n        ...SupportedContainerStyles_styleNode\n      }\n      ...CustomBackgroundWrapper_customStyleSheet\n      ...MetaHeader_customStyleSheet\n    }\n    firstPublishedAt\n    isLocked\n    isPublished\n    isShortform\n    layerCake\n    primaryTopic {\n      name\n      slug\n    }\n    title\n    readCreatorPostsCount\n    ...AddCollaborator_post\n    ...InteractivePostBody_post\n    ...LimitedStateInterstitial_post\n    ...MaybeRedirectToEditor_post\n    ...Metabar_post\n    ...PayWall_post\n    ...PostBodyInserts_post\n    ...PostCacheController_post\n    ...PostFooter_post\n    ...PostHeader_post\n    ...PostMetadata_post\n    ...PostPublishedDialog_prerequisite_post\n    ...PostReadTracker_post\n    ...PostScreenThemeProvider_post\n    ...PostScrollTracker_post\n    ...PostSidebar_post\n    ...RegWall_post\n    ...SuspendedBannerLoader_post\n    ...buildBranchViewData_post\n    ...optimizelyData_post\n    ...TableOfContents_post\n  }\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n"]);return Ao=function(){return e},e}function Co(){var e=o()(["\n  fragment PostScreen_meteringInfo on MeteringInfo {\n    __typename\n    postIds\n    maxUnlockCount\n    unlocksRemaining\n    ...PostHeader_meteringInfo\n    ...RegWall_meteringInfo\n    ...buildBranchViewData_meteringInfo\n  }\n  ","\n  ","\n  ","\n"]);return Co=function(){return e},e}var Lo=function(){return null};function jo(e){var t,n,r,o=e.meteringInfo,i=e.post,a=e.viewer,s=i.id,c=i.isPublished,u=i.isLocked,h=i.isShortform,v=i.content,E=i.collection,b=i.canonicalUrl,x=(0,m.I0)(),S=(0,q.Av)(),I=(0,pe.PM)(),w=(0,m.v9)((function(e){return{authDomain:e.config.authDomain,isAmp:e.config.isAmp,currentHash:e.navigation.currentHash,postPublishedType:e.navigation.postPublishedType,referrer:e.navigation.referrer}}),m.wU),R=w.authDomain,O=w.currentHash,T=w.isAmp,D=w.postPublishedType,k=w.referrer,j=(0,To.P)(),B=j.inAppBrowser,U=j.loading,M=p.useState(!1),F=l()(M,2),H=F[0],W=F[1],z=p.useState(i.readingList===Pt.sx.READING_LIST_QUEUE||i.readingList===Pt.sx.READING_LIST_ARCHIVE),G=l()(z,2),Y=G[0],Z=G[1],$=p.useRef(null),X=!!a,J=E||{},ee=J.id,te=J.slug,ne=J.googleAnalyticsId,re=v||{},oe=re.isLockedPreviewOnly,ie=re.validatedShareKey,se=re.isCacheableContent,le=ne?[ne]:null;(0,A.t)({ids:le,isAmp:T}),(0,St.Vj)($,i),(0,St.t2)(!!X,$,i),function(e){var t=(0,Q.YC)().value,n=(0,f.useMutation)(Qe,{variables:{postId:e.id}}),r=l()(n,2),o=r[0],i=r[1].called;p.useEffect((function(){e.isPublished||null==t||!t.id||i||o()}),[t])}(i);var de=(0,Bt.GT)(E||i.creator),me=h&&de,ge=(0,Do.D)(de),fe=(0,ce.P7)(I||"").dimension,he=!("digest.reader"!==(void 0===fe?"":fe)||oe||!X||null!==(t=i.creator)&&void 0!==t&&t.viewerIsUser||null!==(n=i.creator)&&void 0!==n&&n.isFollowing||!((i.readCreatorPostsCount||0)>=3)),ve=p.useState(he),Ee=l()(ve,2),be=Ee[0],ye=Ee[1];p.useEffect((function(){ye(he)}),[]);var xe=(0,$e.Dj)(i,be),Pe=(0,Q.rZ)(),Ie=Pe.loading,we=Pe.viewerId;p.useEffect((function(){if(!Ie&&we&&!U){if(c){X||(i.isLocked?(0,K.yB)():(0,K.B8)());var e=(0,L.RD)({inAppBrowser:B,post:i,meteringInfo:o,referrer:k,referrerSource:I,viewer:a,currentUserId:we});E&&E.domain&&(e.data.$canonical_url=(0,Se.o2)(R,i.id));var t=a&&a.name?ue(a.name):void 0;(0,ze.KQ)({post:i},t),(0,L.Pu)(e),x((0,wo.aj)(e)),x((0,wo.QZ)()),S.event("post.clientViewed",{postId:s,collectionId:ee,collectionSlug:te,context:1,isFriendLink:!!ie})}else S.event("post.draftViewed",{postId:s});switch(X||(0,gn.kD)(s),D){case"initial":W(!0),x((0,ae.DJ)());break;case"repub":x((0,ae.Dx)({duration:3e3,message:"Your changes have been published."})),x((0,ae.DJ)())}return function(){x((0,wo.Uo)())}}}),[s,c,Ie,we,U,B]);var Re=(0,ko.K)();if(d().canUseDOM&&Re.get("readmore")){var Te=document.getElementById(_o.W);if(Te){var De,ke=window.matchMedia&&(null===(De=window.matchMedia("(prefers-reduced-motion: reduce)"))||void 0===De?void 0:De.matches);setTimeout((function(){var e=Math.max(Te.offsetTop-window.innerHeight/2,0);window.scrollY<=e&&window.scrollTo({top:e,behavior:ke?void 0:"smooth"})}))}}ge!==de&&x((0,Io.t)(de));var _e,Ae,Ce=oe&&(se?p.createElement(V,null):X?p.createElement(Oe,{post:i}):p.createElement(Ue,{post:i,meteringInfo:o})),Le=u?{className:"meteredContent"}:{};if(O){var je=O.split("-");_e=je[0],Ae=je[1]}return p.createElement(p.Fragment,null,p.createElement(C.u,null),p.createElement(P,{post:i,isLoggedIn:X}),p.createElement(qe,{post:i},p.createElement(bt,{isAmp:T,post:i}),(null==a?void 0:a.id)===(null===(r=i.creator)||void 0===r?void 0:r.id)?p.createElement(so.ZP,{post:i,user:i.creator}):p.createElement(y.bZ,{name:"can_view_suspended_content",placeholder:Lo},(function(e){return e?p.createElement(so.ZP,{post:i,user:i.creator}):null})),p.createElement(Ht,{post:i},p.createElement(vn.f,{customStyleSheet:i.customStyleSheet},p.createElement(Bo,{post:i}),p.createElement(qr,{post:i},(function(e){var t,n=e.show;return p.createElement(En,{rule:(t=i.customStyleSheet,(0,bn.fl)(null==t?void 0:t.postBody))},p.createElement(g.Am,null,p.createElement(pn.Q.Provider,{value:{isFirstLoadAndInReadingList:Y,setIsFirstLoadAndInReadingList:Z}},p.createElement(fo,null),p.createElement(So,null),p.createElement("article",Le,p.createElement(Ke.mV,{post:i,meteringInfo:o,showMixtape:!1}),p.createElement(io,{post:i,viewerId:null==a?void 0:a.id},p.createElement(dn,{activeGrafId:_e,activeNoteId:Ae,isAuroraPostPageEnabled:de,post:i,postBodyInserts:xe,ref:$}))),!oe&&!!c&&!me&&p.createElement(Wt.p3,{post:i,showResponsesSidebar:n}),Ce,!oe&&p.createElement(mn.ZP,{post:i,showResponsesSidebar:n,showMixtape:!0}))))})),p.createElement(Lt,{hide:function(){return W(!1)},isVisible:H,post:i}),!!c&&p.createElement(N.T,{slimFooter:de}))),T&&p.createElement(p.Fragment,null,p.createElement(Ro,{json:{requests:{base:(0,Se.vu)(R),pageview:(0,Se.CX)(),scrollPing:(0,Se.y4)()},vars:{postId:s,collectionId:ee,canonicalUrl:b,referrer:k},triggers:{defaultPageview:{on:"visible",request:"pageview"},scrollDepths:{on:"scroll",scrollSpec:{verticalBoundaries:[0,5,10,15,20,25,30,35,40,45,50,55,60,65,70,75,80,85,90,95,100]},request:"scrollPing"}},transport:{beacon:!1,xhrpost:!1,image:!0}}}),p.createElement(_,{collectionGoogleAnalyticsId:ne}),p.createElement(Oo,null))),!!i.creator&&!i.collection&&p.createElement(Po.h,{user:i.creator,refreshOnComplete:!0}))}var Bo=function(e){var t,n,r=e.post,o=r.collection,i=r.content,s=o||r.creator,l=(0,Bt.GT)(s),c=(0,m.v9)((function(e){return e.config.isAmp})),u=i.bodyModel&&i.bodyModel.paragraphs[0],d=u&&u.type===Pt.NJ.IMG&&u.layout===Pt.ms.FULL_WIDTH;if(s&&l)return p.createElement(Dr.xu,{marginBottom:d?"0":"36px",sm:{marginBottom:d?"0":"20px"}},p.createElement(fn.Go,{publisher:s,customStyleSheet:r.customStyleSheet,post:r,forceSmall:!0}),p.createElement(hn.z,{headerScale:null===(t=r.customStyleSheet)||void 0===t||null===(n=t.header)||void 0===n?void 0:n.headerScale,post:r,publisher:s}));var g={behavior:M.W.Aggressive,isAmp:c,isFixed:!1,post:r};if(o)return p.createElement(j.NL,a()({},g,{collection:o}));var f=r.layerCake,h=r.primaryTopic,v=f&&(1===f||2===f||3===f),E=v?h:null;return p.createElement(U.kw,a()({},g,{isMonogramOnly:!v,marginBottom:0,marginBottomSm:0,topic:E}))},No=(0,c.Ps)(Co(),Ke.Xc,Fe,L.PI),Uo=(0,c.Ps)(Ao(),We,j.JE,vn.w,cn,ao,Ze,U.v7,fn.aU,fn.Mv,Te,I,$e.Cs,mn.F9,Ke.Z3,yt,jt,St.WZ,Vt,St.kH,Wt.uI,Me,bn._3,so.QX,so.v,Po.k,Bt.C5,L.ir,ze.ne,Qt.tA,B.Dc)},27140:(e,t,n)=>{"use strict";n.d(t,{D:()=>o});var r=n(67294);function o(e){var t=r.useRef();return r.useEffect((function(){t.current=e}),[e]),t.current}}}]);
//# sourceMappingURL=https://stats.medium.build/lite/sourcemaps/5025.af65340c.chunk.js.map